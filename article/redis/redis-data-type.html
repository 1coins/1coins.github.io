<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.66" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://1coins.github.io/article/redis/redis-data-type.html"><meta property="og:site_name" content="ä¹¾å…ƒ"><meta property="og:title" content="Redis æ•°æ®ç±»å‹"><meta property="og:description" content="Redis æ•°æ®ç±»å‹çš„å½¢æˆ ä½œä¸ºç¼“å­˜ä½¿ç”¨ åŸå§‹ä¸šåŠ¡åŠŸèƒ½è®¾è®¡ ç§’æ€ 618 æ´»åŠ¨ åŒåä¸€æ´»åŠ¨ æ’é˜Ÿè´­ç¥¨ è¿è¥å¹³å°ç›‘æ§åˆ°çš„çªå‘é«˜é¢‘è®¿é—®æ•°æ® çªå‘å¸‚æ”¿è¦é—»ï¼Œè¢«å¼ºåŠ¿å…³æ³¨å›´è§‚ é«˜é¢‘ã€å¤æ‚çš„ç»Ÿè®¡æ•°æ® åœ¨çº¿äººæ•° æŠ•ç¥¨æ’è¡Œæ¦œ é™„åŠ åŠŸèƒ½"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-09-24T03:08:04.000Z"><meta property="article:author" content="ä¹¾å…ƒ"><meta property="article:tag" content="Redis"><meta property="article:published_time" content="2023-09-15T00:00:00.000Z"><meta property="article:modified_time" content="2023-09-24T03:08:04.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Redis æ•°æ®ç±»å‹","image":[""],"datePublished":"2023-09-15T00:00:00.000Z","dateModified":"2023-09-24T03:08:04.000Z","author":[{"@type":"Person","name":"ä¹¾å…ƒ","url":"https://github.com/1coins","email":"lau5464@126.com"}]}</script><meta name="robots" content="all"><meta name="author" content="ä¹¾å…ƒ"><meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Expires" content="0"><meta name="keywords" content="JavaåŸºç¡€, å¤šçº¿ç¨‹, JVM, è™šæ‹Ÿæœº, æ•°æ®åº“, MySQL, Spring, Redis, MyBatis, ç³»ç»Ÿè®¾è®¡, åˆ†å¸ƒå¼, RPC, é«˜å¯ç”¨, é«˜å¹¶å‘"><meta name="apple-mobile-web-app-capable" content="yes"><script>var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?5dd2e8c97962d57b7b8fea1737c01743";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();</script><link rel="icon" href="/favicon.png"><link rel="icon" href="/pwa/512.png" type="image/png" sizes="512x512"><link rel="icon" href="/pwa/192.png" type="image/png" sizes="192x192"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/pwa/144.png"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/pwa/144.png"><meta name="msapplication-TileColor" content="#000"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><link rel="alternate" type="application/json" href="https://1coins.github.io/feed.json" title="ä¹¾å…ƒ JSON Feed"><title>Redis æ•°æ®ç±»å‹ | ä¹¾å…ƒ</title><meta name="description" content="Redis æ•°æ®ç±»å‹çš„å½¢æˆ ä½œä¸ºç¼“å­˜ä½¿ç”¨ åŸå§‹ä¸šåŠ¡åŠŸèƒ½è®¾è®¡ ç§’æ€ 618 æ´»åŠ¨ åŒåä¸€æ´»åŠ¨ æ’é˜Ÿè´­ç¥¨ è¿è¥å¹³å°ç›‘æ§åˆ°çš„çªå‘é«˜é¢‘è®¿é—®æ•°æ® çªå‘å¸‚æ”¿è¦é—»ï¼Œè¢«å¼ºåŠ¿å…³æ³¨å›´è§‚ é«˜é¢‘ã€å¤æ‚çš„ç»Ÿè®¡æ•°æ® åœ¨çº¿äººæ•° æŠ•ç¥¨æ’è¡Œæ¦œ é™„åŠ åŠŸèƒ½">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-aca62eb1.css" as="style"><link rel="stylesheet" href="/assets/style-aca62eb1.css">
    <link rel="modulepreload" href="/assets/app-3e6d2d9d.js"><link rel="modulepreload" href="/assets/redis-data-type.html-ee769916.js"><link rel="modulepreload" href="/assets/redis-data-type.html-09cb6c47.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-c27b6911.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container no-sidebar has-toc"><!--[--><header id="navbar" class="vp-navbar auto-hide"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand" href="/"><img class="vp-nav-logo" src="/pwa/144.png" alt="ä¹¾å…ƒ"><!----><span class="vp-site-name hide-in-pad">ä¹¾å…ƒ</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!--[--><button type="button" class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/"><span class="font-icon icon iconfont icon-home" style=""></span>é¦–é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="ç´¢å¼•"><span class="title"><span class="font-icon icon iconfont icon-jiansuo" style=""></span>ç´¢å¼•</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="vp-link nav-link active" href="/article.html"><span class="font-icon icon iconfont icon-list" style=""></span>å…¨éƒ¨<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/category.html"><span class="font-icon icon iconfont icon-category" style=""></span>åˆ†ç±»<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/tag.html"><span class="font-icon icon iconfont icon-tag" style=""></span>æ ‡ç­¾<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/timeline.html"><span class="font-icon icon iconfont icon-time" style=""></span>æ—¶é—´è½´<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="æ”¶è—"><span class="title"><span class="font-icon icon iconfont icon-favoritea" style=""></span>æ”¶è—</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="vp-link nav-link" href="/favorite/links.html"><span class="font-icon icon iconfont icon-link" style=""></span>é“¾æ¥<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/favorite/movies.html"><span class="font-icon icon iconfont icon-movie" style=""></span>å½±è§†<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/favorite/music.html"><span class="font-icon icon iconfont icon-music" style=""></span>éŸ³ä¹<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/favorite/photos.html"><span class="font-icon icon iconfont icon-xiangce" style=""></span>ç›¸å†Œ<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/about.html"><span class="font-icon icon iconfont icon-info" style=""></span>å…³äº<!----></a></div></nav><!----><div class="nav-item hide-in-mobile"><button type="button" class="outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Redis æ•°æ®ç±»å‹</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/1coins" target="_blank" rel="noopener noreferrer">ä¹¾å…ƒ</a></span><span property="author" content="ä¹¾å…ƒ"></span></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category3 clickable" role="navigation">Redis</span><!--]--><meta property="articleSection" content="Redis"></span><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-09-15T00:00:00.000Z"></span><!----><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag3 clickable" role="navigation">Redis</span><!--]--><meta property="keywords" content="Redis"></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 36 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT36M"></span><span class="page-word-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 10860 å­—</span><meta property="wordCount" content="10860"></span><span class="page-pageview-info" aria-label="è®¿é—®é‡ğŸ”¢" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span id="ArtalkPV" class="waline-pageview-count" data-path="/article/redis/redis-data-type.html">...</span></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#ä½œä¸ºç¼“å­˜ä½¿ç”¨">ä½œä¸ºç¼“å­˜ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#é™„åŠ åŠŸèƒ½">é™„åŠ åŠŸèƒ½</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#æ•°æ®å­˜å‚¨æ ¼å¼">æ•°æ®å­˜å‚¨æ ¼å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#stringç±»å‹">stringç±»å‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#åŸºæœ¬æ“ä½œ">åŸºæœ¬æ“ä½œ</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#å•æ•°æ®æ“ä½œä¸å¤šæ•°æ®æ“ä½œçš„é€‰æ‹©">å•æ•°æ®æ“ä½œä¸å¤šæ•°æ®æ“ä½œçš„é€‰æ‹©</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#æ‰©å±•æ“ä½œ">æ‰©å±•æ“ä½œ</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#æ•°æ®è¡¨ä¸»é”®ä¸é‡å¤">æ•°æ®è¡¨ä¸»é”®ä¸é‡å¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#æ•°æ®æ—¶æ•ˆæ€§è®¾ç½®">æ•°æ®æ—¶æ•ˆæ€§è®¾ç½®</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#åº”ç”¨åœºæ™¯">åº”ç”¨åœºæ™¯</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#å¾®åšä¸»é¡µæ˜¾ç¤ºç²‰ä¸æ•°ä¸å¾®åšæ•°é‡">å¾®åšä¸»é¡µæ˜¾ç¤ºç²‰ä¸æ•°ä¸å¾®åšæ•°é‡</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#å­˜å‚¨çš„å›°æƒ‘">å­˜å‚¨çš„å›°æƒ‘</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#hashç±»å‹">hashç±»å‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#åŸºæœ¬æ“ä½œ-1">åŸºæœ¬æ“ä½œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#æ‰©å±•æ“ä½œ-1">æ‰©å±•æ“ä½œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#æ³¨æ„äº‹é¡¹-1">æ³¨æ„äº‹é¡¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#åº”ç”¨åœºæ™¯-1">åº”ç”¨åœºæ™¯</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#è´­ç‰©è½¦">è´­ç‰©è½¦</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#æŠ¢è´­">æŠ¢è´­</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ä¸šåŠ¡åœºæ™¯-4">ä¸šåŠ¡åœºæ™¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#stringä¸hash">stringä¸hash</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#åŸºæœ¬æ“ä½œ-2">åŸºæœ¬æ“ä½œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#æ‰©å±•æ“ä½œ-2">æ‰©å±•æ“ä½œ</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ä¸šåŠ¡åœºæ™¯-6">ä¸šåŠ¡åœºæ™¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#tips-6">Tips 6</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#æ³¨æ„äº‹é¡¹-2">æ³¨æ„äº‹é¡¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#åº”ç”¨åœºæ™¯-2">åº”ç”¨åœºæ™¯</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ä¸šåŠ¡åœºæ™¯-7">ä¸šåŠ¡åœºæ™¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#è§£å†³æ–¹æ¡ˆ-6">è§£å†³æ–¹æ¡ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#tips-7">Tips 7</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#åŸºæœ¬æ“ä½œ-3">åŸºæœ¬æ“ä½œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#æ‰©å±•æ“ä½œ-3">æ‰©å±•æ“ä½œ</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ä¸šåŠ¡åœºæ™¯-8">ä¸šåŠ¡åœºæ™¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ä¸šåŠ¡åˆ†æ-1">ä¸šåŠ¡åˆ†æ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#è§£å†³æ–¹æ¡ˆ-7">è§£å†³æ–¹æ¡ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#tips-8">Tips 8</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#æ‰©å±•æ“ä½œ-4">æ‰©å±•æ“ä½œ</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ä¸šåŠ¡åœºæ™¯-9">ä¸šåŠ¡åœºæ™¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#è§£å†³æ–¹æ¡ˆ-8">è§£å†³æ–¹æ¡ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#tips-9">Tips 9</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#æ³¨æ„äº‹é¡¹-3">æ³¨æ„äº‹é¡¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#åº”ç”¨åœºæ™¯-3">åº”ç”¨åœºæ™¯</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#æƒé™æ ¡éªŒ">æƒé™æ ¡éªŒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ç½‘ç«™è®¿é—®é‡ç»Ÿè®¡">ç½‘ç«™è®¿é—®é‡ç»Ÿè®¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ç½‘ç«™é»‘ç™½åå•">ç½‘ç«™é»‘ç™½åå•</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#åŸºæœ¬æ“ä½œ-4">åŸºæœ¬æ“ä½œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#æ‰©å±•æ“ä½œ-5">æ‰©å±•æ“ä½œ</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#æ’è¡Œæ¦œ">æ’è¡Œæ¦œ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#æ³¨æ„äº‹é¡¹-4">æ³¨æ„äº‹é¡¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#åº”ç”¨åœºæ™¯-4">åº”ç”¨åœºæ™¯</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#æ—¶æ•ˆæ€§ä»»åŠ¡ç®¡ç†">æ—¶æ•ˆæ€§ä»»åŠ¡ç®¡ç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#å¸¦æœ‰æƒé‡çš„ä»»åŠ¡ç®¡ç†">å¸¦æœ‰æƒé‡çš„ä»»åŠ¡ç®¡ç†</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#è®¡æ•°å™¨">è®¡æ•°å™¨</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ä¸šåŠ¡åœºæ™¯-16">ä¸šåŠ¡åœºæ™¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#è§£å†³æ–¹æ¡ˆ-15">è§£å†³æ–¹æ¡ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#è§£å†³æ–¹æ¡ˆæ”¹è‰¯">è§£å†³æ–¹æ¡ˆæ”¹è‰¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#tips-16">Tips 16</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#å¾®ä¿¡ä¼šè¯">å¾®ä¿¡ä¼šè¯</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ä¸šåŠ¡åœºæ™¯-17">ä¸šåŠ¡åœºæ™¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ä¸šåŠ¡åˆ†æ-3">ä¸šåŠ¡åˆ†æ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#è§£å†³æ–¹æ¡ˆ-16">è§£å†³æ–¹æ¡ˆ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#bitmaps">Bitmaps</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#bitmaps-ç±»å‹çš„åŸºç¡€æ“ä½œ">Bitmaps ç±»å‹çš„åŸºç¡€æ“ä½œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#bitmaps-ç±»å‹çš„æ‰©å±•æ“ä½œ">Bitmaps ç±»å‹çš„æ‰©å±•æ“ä½œ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#hyperloglog">HyperLogLog</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ç»Ÿè®¡ç‹¬ç«‹uv">ç»Ÿè®¡ç‹¬ç«‹UV</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#åŸºæ•°">åŸºæ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#hyperloglog-ç±»å‹çš„åŸºæœ¬æ“ä½œ">HyperLogLog ç±»å‹çš„åŸºæœ¬æ“ä½œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#tips-19">Tips 19</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ç›¸å…³è¯´æ˜">ç›¸å…³è¯´æ˜</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#geo">GEO</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#geo-ç±»å‹çš„åŸºæœ¬æ“ä½œ">GEO ç±»å‹çš„åŸºæœ¬æ“ä½œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#tips-20">Tips 20</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="redis-æ•°æ®ç±»å‹çš„å½¢æˆ" tabindex="-1"><a class="header-anchor" href="#redis-æ•°æ®ç±»å‹çš„å½¢æˆ" aria-hidden="true">#</a> Redis æ•°æ®ç±»å‹çš„å½¢æˆ</h1><h2 id="ä½œä¸ºç¼“å­˜ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ä½œä¸ºç¼“å­˜ä½¿ç”¨" aria-hidden="true">#</a> ä½œä¸ºç¼“å­˜ä½¿ç”¨</h2><ol><li><p>åŸå§‹ä¸šåŠ¡åŠŸèƒ½è®¾è®¡</p><ul><li>ç§’æ€</li><li>618 æ´»åŠ¨</li><li>åŒåä¸€æ´»åŠ¨</li><li>æ’é˜Ÿè´­ç¥¨</li></ul></li><li><p>è¿è¥å¹³å°ç›‘æ§åˆ°çš„çªå‘é«˜é¢‘è®¿é—®æ•°æ®</p><ul><li>çªå‘å¸‚æ”¿è¦é—»ï¼Œè¢«å¼ºåŠ¿å…³æ³¨å›´è§‚</li></ul></li><li><p>é«˜é¢‘ã€å¤æ‚çš„ç»Ÿè®¡æ•°æ®</p><ul><li>åœ¨çº¿äººæ•°</li><li>æŠ•ç¥¨æ’è¡Œæ¦œ</li></ul></li></ol><h2 id="é™„åŠ åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#é™„åŠ åŠŸèƒ½" aria-hidden="true">#</a> é™„åŠ åŠŸèƒ½</h2><p>ç³»ç»ŸåŠŸèƒ½ä¼˜åŒ–æˆ–å‡çº§</p><ul><li>å•æœåŠ¡å™¨å‡çº§é›†ç¾¤</li><li><code>Session</code>ç®¡ç†</li><li><code>Token</code>ç®¡ç†</li></ul><h1 id="redis-æ•°æ®ç±»å‹-5-ç§å¸¸ç”¨" tabindex="-1"><a class="header-anchor" href="#redis-æ•°æ®ç±»å‹-5-ç§å¸¸ç”¨" aria-hidden="true">#</a> Redis æ•°æ®ç±»å‹ï¼ˆ5 ç§å¸¸ç”¨ï¼‰</h1><ul><li><code>string --&gt; String</code></li><li><code>hash --&gt; Hashmap</code></li><li><code>list --&gt; LinkList</code></li><li><code>set --&gt; HashSet</code></li><li><code>sorted_set --&gt; TreeSet</code></li></ul><h1 id="string" tabindex="-1"><a class="header-anchor" href="#string" aria-hidden="true">#</a> String</h1><h2 id="æ•°æ®å­˜å‚¨æ ¼å¼" tabindex="-1"><a class="header-anchor" href="#æ•°æ®å­˜å‚¨æ ¼å¼" aria-hidden="true">#</a> æ•°æ®å­˜å‚¨æ ¼å¼</h2><ul><li><code>Redis</code>è‡ªèº«æ˜¯ä¸€ä¸ª<code>Map</code>ï¼Œå…¶ä¸­æ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯é‡‡ç”¨<code>key:value</code>çš„å½¢å¼å­˜å‚¨</li><li>æ•°æ®ç±»å‹æŒ‡çš„æ˜¯å­˜å‚¨çš„æ•°æ®çš„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯<code>value</code>éƒ¨åˆ†çš„ç±»å‹ï¼Œ<code>key</code>éƒ¨åˆ†æ°¸è¿œéƒ½æ˜¯å­—ç¬¦ä¸²</li></ul><figure><img src="https://cdn.jsdelivr.net/gh/1coins/assets/redis-data-type/redis-storage1.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="stringç±»å‹" tabindex="-1"><a class="header-anchor" href="#stringç±»å‹" aria-hidden="true">#</a> <code>string</code>ç±»å‹</h2><ul><li><p>å­˜å‚¨çš„æ•°æ®ï¼šå•ä¸ªæ•°æ®ï¼Œæœ€ç®€å•çš„æ•°æ®å­˜å‚¨ç±»å‹ï¼Œä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„æ•°æ®å­˜å‚¨ç±»å‹</p></li><li><p>å­˜å‚¨æ•°æ®çš„æ ¼å¼ï¼šä¸€ä¸ªå­˜å‚¨ç©ºé—´ä¿å­˜ä¸€ä¸ªæ•°æ®</p></li><li><p>å­˜å‚¨å†…å®¹ï¼šé€šå¸¸ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œå¦‚æœå­—ç¬¦ä¸²ä»¥æ•´æ•°çš„å½¢å¼å±•ç¤ºï¼Œå¯ä»¥ä½œä¸ºæ•°å­—æ“ä½œä½¿ç”¨</p><figure><img src="https://cdn.jsdelivr.net/gh/1coins/assets/redis-data-type/redis-storage2.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></li></ul><h2 id="åŸºæœ¬æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬æ“ä½œ" aria-hidden="true">#</a> åŸºæœ¬æ“ä½œ</h2><ul><li><p>æ·»åŠ /ä¿®æ”¹æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">set</span> key value
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>è·å–æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>get key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>åˆ é™¤æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>del key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>æ·»åŠ /ä¿®æ”¹å¤šä¸ªæ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mset key1 value1 key2 value2 â€¦
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>è·å–å¤šä¸ªæ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mget key1 key2 â€¦
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>è·å–æ•°æ®å­—ç¬¦ä¸ªæ•°ï¼ˆå­—ç¬¦ä¸²é•¿åº¦ï¼‰</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>strlen key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>è¿½åŠ ä¿¡æ¯åˆ°åŸå§‹ä¿¡æ¯åéƒ¨ï¼ˆå¦‚æœåŸå§‹ä¿¡æ¯å­˜åœ¨å°±è¿½åŠ ï¼Œå¦åˆ™æ–°å»ºï¼‰</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>append key value
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> name itheima
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get name
<span class="token string">&quot;itheima&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> age <span class="token number">100</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get age
<span class="token string">&quot;100&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> del age
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get age
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> del age
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> mset a <span class="token number">1</span> b <span class="token number">2</span> c <span class="token number">3</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get a
<span class="token string">&quot;1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get b
<span class="token string">&quot;2&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get c
<span class="token string">&quot;3&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> mget a b c
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;2&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> mset d <span class="token number">5</span> b <span class="token number">6</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get b
<span class="token string">&quot;6&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> mget a b c
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;6&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> mget a w c
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> age <span class="token number">2000</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> strlen age
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span>
strlen name
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">7</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get name
<span class="token string">&quot;itheima&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> append age <span class="token number">200</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">7</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get age
<span class="token string">&quot;2000200&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> append nm <span class="token number">300</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get mn
<span class="token string">&quot;300&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å•æ•°æ®æ“ä½œä¸å¤šæ•°æ®æ“ä½œçš„é€‰æ‹©" tabindex="-1"><a class="header-anchor" href="#å•æ•°æ®æ“ä½œä¸å¤šæ•°æ®æ“ä½œçš„é€‰æ‹©" aria-hidden="true">#</a> å•æ•°æ®æ“ä½œä¸å¤šæ•°æ®æ“ä½œçš„é€‰æ‹©</h3><figure><img src="https://cdn.jsdelivr.net/gh/1coins/assets/redis-data-type/string-set-mset.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="æ‰©å±•æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#æ‰©å±•æ“ä½œ" aria-hidden="true">#</a> æ‰©å±•æ“ä½œ</h2><h3 id="æ•°æ®è¡¨ä¸»é”®ä¸é‡å¤" tabindex="-1"><a class="header-anchor" href="#æ•°æ®è¡¨ä¸»é”®ä¸é‡å¤" aria-hidden="true">#</a> æ•°æ®è¡¨ä¸»é”®ä¸é‡å¤</h3><h4 id="ä¸šåŠ¡åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h4><p>å¤§å‹ä¼ä¸šçº§åº”ç”¨ä¸­ï¼Œåˆ†è¡¨æ“ä½œæ˜¯åŸºæœ¬æ“ä½œï¼Œä½¿ç”¨å¤šå¼ è¡¨å­˜å‚¨åŒç±»å‹æ•°æ®ï¼Œä½†æ˜¯å¯¹åº”çš„ä¸»é”®<code>id</code>å¿…é¡»ä¿è¯ç»Ÿä¸€æ€§ï¼Œä¸èƒ½é‡å¤ï¼›<code>Oracle</code>æ•°æ®åº“å…·æœ‰<code>sequence</code>è®¾å®šï¼Œå¯ä»¥è§£å†³è¯¥é—®é¢˜ï¼Œä½†æ˜¯<code>MySql</code>æ•°æ®åº“å¹¶ä¸å…·æœ‰ç±»ä¼¼çš„æœºåˆ¶ï¼Œé‚£ä¹ˆå¦‚ä½•è§£å†³ï¼Ÿ</p><h4 id="è§£å†³æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆ</h4><ul><li><p>è®¾ç½®æ•°å€¼æ•°æ®å¢åŠ æŒ‡å®šèŒƒå›´çš„å€¼</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>incr key
incrby key increment
incrbyfloat key increment
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>è®¾ç½®æ•°å€¼æ•°æ®å‡å°‘æŒ‡å®šèŒƒå›´çš„å€¼</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>decr key
decrby key increment
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><blockquote><p>æ³¨ï¼š<code>increment</code>å¯æ­£å¯è´Ÿ</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> num <span class="token number">1</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incr num
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get num
<span class="token string">&quot;2&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incr num
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get num
<span class="token string">&quot;3&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> decr num
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get num
<span class="token string">&quot;2&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incrby num <span class="token number">10</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">12</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get num
<span class="token string">&quot;12&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incrbyfloat num <span class="token number">1.5</span>
<span class="token string">&quot;13.5&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="stringä½œä¸ºæ•°å€¼æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#stringä½œä¸ºæ•°å€¼æ“ä½œ" aria-hidden="true">#</a> <code>string</code>ä½œä¸ºæ•°å€¼æ“ä½œ</h4><ul><li><code>string</code>åœ¨<code>Redis</code>å†…éƒ¨å­˜å‚¨é»˜è®¤å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå½“é‡åˆ°å¢å‡ç±»æ“ä½œ<code>incr</code>ã€<code>decr</code>æ—¶ä¼šè½¬æˆæ•°å€¼å‹è¿›è¡Œè®¡ç®—</li><li><code>Redis</code>æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯åŸå­æ€§çš„ï¼Œé‡‡ç”¨å•çº¿ç¨‹å¤„ç†æ‰€æœ‰ä¸šåŠ¡ï¼Œå‘½ä»¤æ˜¯ä¸€ä¸ªä¸€ä¸ªæ‰§è¡Œçš„ï¼Œå› æ­¤æ— éœ€è€ƒè™‘å¹¶å‘å¸¦æ¥çš„æ•°æ®å½±å“ã€‚</li></ul><p>æ³¨æ„ï¼š<strong>æŒ‰æ•°å€¼è¿›è¡Œæ“ä½œçš„æ•°æ®ï¼Œå¦‚æœåŸå§‹æ•°æ®ä¸èƒ½è½¬æˆæ•°å€¼ï¼Œæˆ–è¶…è¿‡äº†</strong>**<code>Redis</code>****æ•°å€¼ä¸Šçº¿èŒƒå›´ï¼Œå°†ä¼šæŠ¥é”™ï¼›**<code>Java</code>ä¸­<code>long</code>å‹æ•°æ®æœ€å¤§å€¼ï¼Œ<code>Long.MAX_VALUE=9223372036854775807</code>ã€‚</p><h4 id="tips-1" tabindex="-1"><a class="header-anchor" href="#tips-1" aria-hidden="true">#</a> Tips 1</h4><ul><li><code>Redis</code>ç”¨äºæ§åˆ¶æ•°æ®åº“è¡¨ä¸»é”®<code>id</code>ï¼Œä¸ºæ•°æ®åº“è¡¨ä¸»é”®æä¾›ç”Ÿæˆç­–ç•¥ï¼Œä¿éšœæ•°æ®åº“è¡¨çš„ä¸»é”®å”¯ä¸€æ€§</li><li>æ­¤æ–¹æ¡ˆé€‚ç”¨äºæ‰€æœ‰æ•°æ®åº“ï¼Œä¸”æ”¯æŒæ•°æ®åº“</li></ul><h3 id="æ•°æ®æ—¶æ•ˆæ€§è®¾ç½®" tabindex="-1"><a class="header-anchor" href="#æ•°æ®æ—¶æ•ˆæ€§è®¾ç½®" aria-hidden="true">#</a> æ•°æ®æ—¶æ•ˆæ€§è®¾ç½®</h3><h4 id="ä¸šåŠ¡åœºæ™¯-1" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯-1" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h4><p>åœºæ™¯ä¸€ï¼šâ€œæœ€å¼ºå¥³ç”Ÿâ€ï¼Œå¯åŠ¨æµ·é€‰æŠ•ç¥¨ï¼Œåªèƒ½é€šè¿‡å¾®ä¿¡æŠ•ç¥¨ï¼Œæ¯ä¸ªå¾®ä¿¡å·æ¯4ä¸ªå°æ—¶åªèƒ½æŠ• 1 ç¥¨ã€‚</p><p>åœºæ™¯äºŒï¼šç”µå•†å•†å®¶å¼€å¯çƒ­é—¨å•†å“æ¨èï¼Œçƒ­é—¨å•†å“ä¸èƒ½ä¸€ç›´å¤„äºçƒ­é—¨æœŸï¼Œæ¯ç§å•†å“çƒ­é—¨æœŸç»´æŒ 3 å¤©ï¼Œ3 å¤©åè‡ªåŠ¨å–æ¶ˆçƒ­é—¨</p><p>åœºæ™¯ä¸‰ï¼šæ–°é—»ç½‘ç«™ä¼šå‡ºç°çƒ­ç‚¹æ–°é—»ï¼Œçƒ­ç‚¹æ–°é—»æœ€å¤§çš„ç‰¹å¾æ˜¯å¯¹æ—¶æ•ˆæ€§ï¼Œå¦‚ä½•è‡ªåŠ¨æ§åˆ¶çƒ­ç‚¹æ–°é—»çš„æ—¶æ•ˆæ€§</p><h4 id="è§£å†³æ–¹æ¡ˆ-1" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-1" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆ</h4><ul><li><p>è®¾ç½®æ•°æ®å…·æœ‰æŒ‡å®šçš„å£°æ˜å‘¨æœŸ</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>setex key seconds value
psetex key milliseconds value

setex key seconds value
<span class="token builtin class-name">set</span> key value
ä¸Šè¿°æ“ä½œä¼šè¦†ç›–valueå€¼å¹¶æ´—æ‰è®¾ç½®çš„seconds
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setex tel <span class="token number">10</span> <span class="token number">1</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get tel
<span class="token string">&quot;1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get tel
<span class="token string">&quot;1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get tel
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setex tel <span class="token number">10</span> <span class="token number">1</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> tel <span class="token number">2</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get tel
<span class="token string">&quot;2&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="tips-2" tabindex="-1"><a class="header-anchor" href="#tips-2" aria-hidden="true">#</a> Tips 2</h4><p><code>Redis</code>æ§åˆ¶æ•°æ®çš„ç”Ÿå‘½å‘¨æœŸï¼Œé€šè¿‡æ•°æ®æ˜¯å¦å¤±æ•ˆæ§åˆ¶ä¸šåŠ¡è¡Œä¸ºï¼Œé€‚ç”¨äºæ‰€æœ‰å…·æœ‰æ—¶æ•ˆæ€§é™å®šæ§åˆ¶çš„æ“ä½œã€‚</p><h2 id="æ³¨æ„äº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#æ³¨æ„äº‹é¡¹" aria-hidden="true">#</a> æ³¨æ„äº‹é¡¹</h2><ul><li><p>æ•°æ®æ“ä½œä¸æˆåŠŸçš„åé¦ˆä¸æ•°æ®æ­£å¸¸æ“ä½œä¹‹é—´çš„å·®å¼‚</p><ol><li><p>è¡¨ç¤ºè¿è¡Œç»“æœæ˜¯å¦æˆåŠŸ</p><ul><li><code>(integer)0â€“&gt;false</code> å¤±è´¥</li><li><code>(integer)1â€“&gt;true</code> æˆåŠŸ</li></ul></li><li><p>è¡¨ç¤ºè¿è¡Œç»“æœå€¼</p><ul><li><code>(integer)3â€“&gt;3</code> 3 ä¸ª</li><li><code>(integer)1â€“&gt;1</code> 1 ä¸ª</li></ul></li></ol></li><li><p>æ•°æ®æœªè·å–åˆ°</p><ul><li><code>(nil)</code>ç­‰åŒäº<code>null</code></li></ul></li><li><p>æ•°æ®æœ€å¤§å­˜å‚¨é‡</p><ul><li>512 MB</li></ul></li><li><p>æ•°å€¼è®¡ç®—æœ€å¤§èŒƒå›´ï¼ˆ<code>Java</code>ä¸­çš„<code>long</code>çš„æœ€å¤§å€¼ï¼‰</p><ul><li>92233720368547758</li></ul></li></ul><h2 id="åº”ç”¨åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#åº”ç”¨åœºæ™¯" aria-hidden="true">#</a> åº”ç”¨åœºæ™¯</h2><h3 id="å¾®åšä¸»é¡µæ˜¾ç¤ºç²‰ä¸æ•°ä¸å¾®åšæ•°é‡" tabindex="-1"><a class="header-anchor" href="#å¾®åšä¸»é¡µæ˜¾ç¤ºç²‰ä¸æ•°ä¸å¾®åšæ•°é‡" aria-hidden="true">#</a> å¾®åšä¸»é¡µæ˜¾ç¤ºç²‰ä¸æ•°ä¸å¾®åšæ•°é‡</h3><h4 id="ä¸šåŠ¡åœºæ™¯-2" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯-2" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h4><p>ä¸»é¡µé«˜é¢‘è®¿é—®ä¿¡æ¯æ˜¾ç¤ºæ§åˆ¶ï¼Œä¾‹å¦‚æ–°æµªå¾®åšå¤§Vä¸»é¡µæ˜¾ç¤ºç²‰ä¸æ•°ä¸å¾®åšæ•°é‡ã€‚</p><h4 id="è§£å†³æ–¹æ¡ˆ-2" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-2" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆ</h4><ul><li><p>åœ¨<code>Redis</code>ä¸­ä¸ºå¤§ V ç”¨æˆ·è®¾å®šç”¨æˆ·ä¿¡æ¯ï¼Œä»¥ç”¨æˆ·ä¸»é”®å’Œå±æ€§å€¼ä½œä¸º<code>key</code>ï¼Œåå°è®¾å®šå®šæ—¶åˆ·æ–°ç­–ç•¥å³å¯</p><ul><li><code>[user]:[id]:3506728370:fans â†’ 12210947</code></li><li><code>user:id:3506728370:blogs â†’ 6164</code></li><li><code>user:id:3506728370:focuss â†’ 83</code></li></ul></li><li><p>åœ¨<code>Redis</code>ä¸­ä»¥<code>json</code>æ ¼å¼å­˜å‚¨å¤§Vç”¨æˆ·ä¿¡æ¯ï¼Œå®šæ—¶åˆ·æ–°ï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨<code>hash</code>ç±»å‹ï¼‰</p><ul><li><code>user:id:3506728370 â†’ {&quot;id&quot;:3506728370,&quot;name&quot;:&quot;æ˜¥æ™š&quot;,&quot;fans&quot;:12210862,&quot;blogs&quot;:6164, &quot;focus&quot;:83}</code></li></ul></li></ul><p>æ³¨ï¼šç¬¬äºŒç§æ–¹æ¡ˆä¸­çš„æ•°æ®ä¸å¥½ä¿®æ”¹</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> user:id:00789:fans <span class="token number">123456789</span>
Ok
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> user:id:0789:blogs <span class="token number">789</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> user:id:00789 <span class="token punctuation">{</span>id:00789,blogs:789,fans:123456789<span class="token punctuation">}</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incr user:id:00789:fans
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">123456790</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="tips-3" tabindex="-1"><a class="header-anchor" href="#tips-3" aria-hidden="true">#</a> Tips 3</h4><p><code>Rredis</code>åº”ç”¨äºå„ç§ç»“æ„å‹å’Œéç»“æ„å‹é«˜çƒ­åº¦æ•°æ®è®¿é—®ã€‚</p><h4 id="keyçš„è®¾ç½®çº¦å®š" tabindex="-1"><a class="header-anchor" href="#keyçš„è®¾ç½®çº¦å®š" aria-hidden="true">#</a> <code>key</code>çš„è®¾ç½®çº¦å®š</h4><p>æ•°æ®åº“ä¸­çš„çƒ­ç‚¹æ•°æ®<code>key</code>å‘½åæƒ¯ä¾‹ï¼š</p><figure><img src="https://cdn.jsdelivr.net/gh/1coins/assets/redis-data-type/hot-key-names.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h1 id="hash" tabindex="-1"><a class="header-anchor" href="#hash" aria-hidden="true">#</a> Hash</h1><h2 id="å­˜å‚¨çš„å›°æƒ‘" tabindex="-1"><a class="header-anchor" href="#å­˜å‚¨çš„å›°æƒ‘" aria-hidden="true">#</a> å­˜å‚¨çš„å›°æƒ‘</h2><p>å¯¹è±¡ç±»æ•°æ®çš„å­˜å‚¨å¦‚æœå…·æœ‰è¾ƒä¸ºé¢‘ç¹çš„æ›´æ–°éœ€æ±‚æ“ä½œä¼šæ˜¾å¾—ç¬¨é‡ï¼š</p><figure><img src="https://cdn.jsdelivr.net/gh/1coins/assets/redis-data-type/object-awalys-update.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="hashç±»å‹" tabindex="-1"><a class="header-anchor" href="#hashç±»å‹" aria-hidden="true">#</a> <code>hash</code>ç±»å‹</h2><ul><li>æ–°çš„å­˜å‚¨éœ€æ±‚ï¼šå¯¹ä¸€ç³»åˆ—å­˜å‚¨çš„æ•°æ®è¿›è¡Œç¼–ç»„ï¼Œæ–¹ä¾¿ç®¡ç†ï¼Œå…¸å‹åº”ç”¨---å­˜å‚¨å¯¹è±¡ä¿¡æ¯</li><li>éœ€è¦çš„å†…å­˜ç»“æ„ï¼šä¸€ä¸ªå­˜å‚¨ç©ºé—´ä¿å­˜å¤šå°‘ä¸ªé”®å€¼å¯¹æ•°æ®</li><li><code>hash</code>ç±»å‹ï¼šåº•å±‚ä½¿ç”¨å“ˆå¸Œè¡¨ç»“æ„å®ç°æ•°æ®å­˜å‚¨</li></ul><figure><img src="https://cdn.jsdelivr.net/gh/1coins/assets/redis-data-type/redis-hash.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="åŸºæœ¬æ“ä½œ-1" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬æ“ä½œ-1" aria-hidden="true">#</a> åŸºæœ¬æ“ä½œ</h2><ul><li><p>æ·»åŠ /ä¿®æ”¹æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hset key field value
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>è·å–æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hget key field
hgetall key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>åˆ é™¤æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hdel key field1 <span class="token punctuation">[</span>field2<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>æ·»åŠ /ä¿®æ”¹å¤šä¸ªæ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hmset key field1 value1 field2 value2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>è·å–å¤šä¸ªæ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hmget key field1 field2 â€¦
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>è·å–å“ˆå¸Œè¡¨ä¸­å­—æ®µçš„æ•°é‡</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hlen key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>è·å–å“ˆå¸Œè¡¨ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„å­—æ®µ</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hexists key field
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hset user name zhangsan
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hset user age <span class="token number">38</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hset user weight <span class="token number">80</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hgetall user
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;name&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;zhangsan&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;age&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;38&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;weight&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;80&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hget user name
<span class="token string">&quot;zhangsan&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hdel user weight
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hgetall user
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;name&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;zhangsan&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;age&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;38&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hmget user name age
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;zhangsan&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;38&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hmset user name zhangsanfeng weight <span class="token number">68</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hgetall user
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;name&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;zhangsanfeng&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;age&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;38&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;weight&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;68&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hlen user
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hexists user age
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hexists user heght
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ‰©å±•æ“ä½œ-1" tabindex="-1"><a class="header-anchor" href="#æ‰©å±•æ“ä½œ-1" aria-hidden="true">#</a> æ‰©å±•æ“ä½œ</h2><ul><li><p>è·å–å“ˆå¸Œè¡¨ä¸­æ‰€æœ‰çš„å­—æ®µåå’Œå­—æ®µå€¼</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hkeys key
hvals key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>è®¾ç½®æŒ‡å®šå­—æ®µçš„æ•°å€¼æ•°æ®å¢åŠ æŒ‡å®šèŒƒå›´çš„å€¼</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hincrby key field increment
hincrbyfloat key field increment
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hgetall user
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;name&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;zhangsanfeng&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;age&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;38&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;weight&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;68&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hkeys user
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;name&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;age&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;weight&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hvals user
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;zhangsanfeng&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;38&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;68&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hset user weight <span class="token number">38</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hvals user
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;zhangsanfeng&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;38&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;38&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hset user2 name zs
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hkeys user2
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;name&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hincrby user age <span class="token number">1</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">39</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ³¨æ„äº‹é¡¹-1" tabindex="-1"><a class="header-anchor" href="#æ³¨æ„äº‹é¡¹-1" aria-hidden="true">#</a> æ³¨æ„äº‹é¡¹</h2><ul><li><code>hash</code>ç±»å‹ä¸‹çš„<code>value</code>åªèƒ½å­˜å‚¨å­—ç¬¦ä¸²ï¼Œä¸å…è®¸å­˜å‚¨å…¶ä»–ç±»å‹æ•°æ®ï¼Œä¸å­˜åœ¨åµŒå¥—ç°è±¡ï¼›å¦‚æœæ•°æ®æœªè·å–åˆ°ï¼Œå¯¹åº”çš„å€¼ä¸ºï¼ˆ<code>nil</code>ï¼‰</li><li>æ¯ä¸ª<code>hash</code>å¯ä»¥å­˜å‚¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>32</mn></msup><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{32}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">32</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> ä¸ªé”®å€¼å¯¹</li><li><code>hash</code>ç±»å‹ååˆ†è´´è¿‘å¯¹è±¡çš„æ•°æ®å­˜å‚¨å½¢å¼ï¼Œå¹¶ä¸”å¯ä»¥çµæ´»æ·»åŠ åˆ é™¤å¯¹è±¡å±æ€§ï¼›ä½†<code>hash</code>è®¾è®¡åˆä¸­ä¸æ˜¯ä¸ºäº†å­˜å‚¨å¤§é‡å¯¹è±¡è€Œè®¾è®¡çš„ï¼Œåˆ‡è®°ä¸å¯æ»¥ç”¨ï¼Œæ›´ä¸å¯ä»¥å°†<code>hash</code>ä½œä¸ºå¯¹è±¡åˆ—è¡¨ä½¿ç”¨</li><li><code>hgetall</code>æ“ä½œå¯ä»¥è·å–å…¨éƒ¨å±æ€§ï¼Œå¦‚æœå†…éƒ¨<code>fiekd</code>è¿‡å¤šï¼Œéå†æ•´ä½“æ•°æ®æ•ˆç‡å°±ä¼šå¾ˆä½ï¼Œæœ‰å¯èƒ½æˆä¸ºæ•°æ®è®¿é—®ç“¶é¢ˆï¼Œç”¨é‚£ä¸ªæ‹¿é‚£ä¸ª</li></ul><h2 id="åº”ç”¨åœºæ™¯-1" tabindex="-1"><a class="header-anchor" href="#åº”ç”¨åœºæ™¯-1" aria-hidden="true">#</a> åº”ç”¨åœºæ™¯</h2><h3 id="è´­ç‰©è½¦" tabindex="-1"><a class="header-anchor" href="#è´­ç‰©è½¦" aria-hidden="true">#</a> è´­ç‰©è½¦</h3><h4 id="ä¸šåŠ¡åœºæ™¯-3" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯-3" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h4><p>ç”µå•†ç½‘ç«™è´­ç‰©è½¦è®¾è®¡ä¸å®ç°ã€‚</p><h4 id="ä¸šåŠ¡åˆ†æ" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åˆ†æ" aria-hidden="true">#</a> ä¸šåŠ¡åˆ†æ</h4><ul><li><p>ä»…åˆ†æè´­ç‰©è½¦çš„<code>redis</code>å­˜å‚¨æ¨¡å‹<br> æ·»åŠ ã€æµè§ˆã€æ›´æ”¹æ•°é‡ã€åˆ é™¤ã€æ¸…ç©º</p></li><li><p>è´­ç‰©è½¦äºæ•°æ®åº“é—´æŒä¹…åŒ–åŒæ­¥ï¼ˆä¸è®¨è®ºï¼‰</p></li><li><p>è´­ç‰©è½¦äºè®¢å•é—´å…³ç³»ï¼ˆä¸è®¨è®ºï¼‰</p><ul><li>æäº¤è´­ç‰©è½¦ï¼šè¯»å–æ•°æ®ç”Ÿæˆè®¢å•</li><li>å•†å®¶ä¸´æ—¶ä»·æ ¼è°ƒæ•´ï¼šéš¶å±äºè®¢å•çº§åˆ«</li></ul></li><li><p>æœªç™»å½•ç”¨æˆ·è´­ç‰©è½¦ä¿¡æ¯å­˜å‚¨ï¼ˆä¸è®¨è®ºï¼‰</p><ul><li><code>cookie</code>å­˜å‚¨</li></ul></li></ul><figure><img src="https://cdn.jsdelivr.net/gh/1coins/assets/redis-data-type/shopping-cart-data-structure.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="è§£å†³æ–¹æ¡ˆ-3" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-3" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆ</h4><ul><li>ä»¥å®¢æˆ·<code>id</code>ä½œä¸º<code>key</code>ï¼Œæ¯ä½å®¢æˆ·åˆ›å»ºä¸€ä¸ª<code>hash</code>å­˜å‚¨ç»“æ„å­˜å‚¨å¯¹åº”çš„è´­ç‰©è½¦ä¿¡æ¯</li><li>å°†å•†å“ç¼–å·ä½œä¸º<code>field</code>ï¼Œè´­ä¹°æ•°é‡ä½œä¸º<code>value</code>è¿›è¡Œå­˜å‚¨</li><li>æ·»åŠ å•†å“ï¼šè¿½åŠ å…¨æ–°çš„<code>field</code>ä¸<code>value</code></li><li>æµè§ˆï¼šéå†<code>hash</code></li><li>æ›´æ”¹æ•°é‡ï¼šè‡ªå¢/è‡ªå‡ï¼Œè®¾ç½®<code>value</code>å€¼</li><li>åˆ é™¤å•†å“ï¼šåˆ é™¤<code>field</code></li><li>æ¸…ç©ºï¼šåˆ é™¤<code>key</code></li><li>æ­¤å¤„ä»…è®¨è®ºè´­ç‰©è½¦ä¸­çš„æ¨¡å‹è®¾è®¡</li><li>è´­ç‰©è½¦ä¸æ•°æ®åº“é—´æŒä¹…åŒ–åŒæ­¥ã€è´­ç‰©è½¦ä¸è®¢å•é—´å…³ç³»ã€æœªç™»å½•ç”¨æˆ·è´­ç‰©è½¦ä¿¡æ¯å­˜å‚¨ä¸è¿›è¡Œè®¨è®º</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hmset 001 g01 <span class="token number">100</span> g02 <span class="token number">200</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hmset 002 g02 <span class="token number">1</span> g04 <span class="token number">7</span> g05 <span class="token number">100</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hset 001 g03 <span class="token number">5</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hgetall 001
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;g01&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;100&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;g02&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;200&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;g03&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;5&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hdel 001 g01
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hgetall 001
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;g02&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;200&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;g03&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;5&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hincrby 001 g03 <span class="token number">1</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">6</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hgetall 001
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;g02&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;200&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;g03&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;6&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å½“å‰è®¾è®¡æ˜¯å¦åŠ é€Ÿäº†è´­ç‰©è½¦çš„å‘ˆç°" tabindex="-1"><a class="header-anchor" href="#å½“å‰è®¾è®¡æ˜¯å¦åŠ é€Ÿäº†è´­ç‰©è½¦çš„å‘ˆç°" aria-hidden="true">#</a> å½“å‰è®¾è®¡æ˜¯å¦åŠ é€Ÿäº†è´­ç‰©è½¦çš„å‘ˆç°</h4><p>å½“å‰ä»…ä»…æ˜¯å°†æ•°æ®å­˜å‚¨åˆ°<code>redis</code>ä¸­ï¼Œå¹¶æ²¡æœ‰èµ·åˆ°åŠ é€Ÿçš„æ‰€ç”¨ï¼Œå› ä¸ºå•†å“ä¿¡æ¯è¿˜éœ€è¦äºŒæ¬¡æŸ¥è¯¢æ•°æ®åº“ã€‚</p><ul><li><p>æ¯æ¡è´­ç‰©è½¦ä¸­çš„å•†å“è®°å½•ä¿å­˜æˆä¸¤æ¡<code>field</code></p></li><li><p><code>field1</code>ä¸“ç”¨äºä¿å­˜è´­ä¹°æ•°é‡</p><ol><li>å‘½åæ ¼å¼ï¼š<code>å•†å“id:nums</code></li><li>ä¿å­˜æ•°æ®ï¼šæ•°å€¼</li></ol></li><li><p><code>field2</code>ä¸“ç”¨äºä¿å­˜è´­ç‰©è½¦ä¸­æ˜¾ç¤ºçš„ä¿¡æ¯ï¼ŒåŒ…å«æ–‡å­—æè¿°ï¼Œå›¾ç‰‡åœ°å€ï¼Œæ‰€å±å•†å®¶ä¿¡æ¯ç­‰</p><ol><li>å‘½åæ ¼å¼ï¼š<code>å•†å“id:info</code></li><li>ä¿å­˜æ•°æ®ï¼š<code>json</code></li></ol></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hmset 003 g01:name <span class="token number">100</span> g01:info <span class="token punctuation">{</span><span class="token punctuation">..</span>.<span class="token punctuation">}</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hgetall 003
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;g01:name&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;100&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;g01:info&quot;</span> 
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;{...]&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hmset 004 g01:num <span class="token number">5</span> g01:info <span class="token punctuation">{</span><span class="token punctuation">..</span>.<span class="token punctuation">}</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hgetall 004
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;g01:num&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;5&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;g01:info&quot;</span> 
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;{...]&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹å‡ºæ¥åˆå…·æœ‰äº†å¤§é‡çš„ä¿¡æ¯é‡å¤ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠ<code>field2</code>çš„å†…å®¹å˜æˆä¸€ä¸ªå›ºå®šçš„<code>hash</code>ï¼Œä½†æ˜¯æ‰€æœ‰çš„å•†å“ä¿¡æ¯éƒ½æ”¾åœ¨ä¸€ä¸ª<code>hash</code>ä¹Ÿå¾ˆéº»çƒ¦ï¼Œå¯ä»¥ç”¨ç±»åˆ«å†åšå°çš„åŒºåˆ†ï¼Œè®©å®ƒä»¬åˆ†æ•£åˆ°ä¸åŒçš„<code>hash</code>é‡Œã€‚</p><ul><li><p>ä¿®æ”¹æ•°æ®ï¼Œå¦‚æœ<code>fileld</code>æœ‰å€¼å°±ä»€ä¹ˆéƒ½ä¸åšï¼Œå¦‚æœæ²¡æœ‰å°±åŠ è¿›å»</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hsetnx key field value
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hset 003 g01:name <span class="token number">200</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hgetall 003
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;g01:name&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;100&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;g01:info&quot;</span> 
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;{...]&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;g01:nums&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;200&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hsetnx 003 g01:name <span class="token number">400</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hsetnx 003 g05:nums <span class="token number">1</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hgetall 03
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;g01:name&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;100&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;g01:info&quot;</span> 
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;{...]&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;g01:nums&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="tips-4" tabindex="-1"><a class="header-anchor" href="#tips-4" aria-hidden="true">#</a> Tips 4</h4><p><code>Redis</code>åº”ç”¨äºè´­ç‰©è½¦æ•°æ®å­˜å‚¨ã€‚</p><h3 id="æŠ¢è´­" tabindex="-1"><a class="header-anchor" href="#æŠ¢è´­" aria-hidden="true">#</a> æŠ¢è´­</h3><h3 id="ä¸šåŠ¡åœºæ™¯-4" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯-4" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h3><p>åŒåä¸€æ´»åŠ¨æ—¥ï¼Œé”€å”®æ‰‹æœºå……å€¼å¡çš„å•†å®¶å¯¹ç§»åŠ¨ã€è”é€šã€ç”µä¿¡çš„ 30 å…ƒã€50 å…ƒã€100 å…ƒå•†å“æ¨å‡ºæŠ¢è´­æ´»åŠ¨ï¼Œæ¯ç§å•†å“æŠ¢è´­ä¸Šé™ 100ã€‚</p><figure><img src="https://cdn.jsdelivr.net/gh/1coins/assets/redis-data-type/rush-to-purchase.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="è§£å†³æ–¹æ¡ˆ-4" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-4" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆ</h4><ul><li>ä»¥å•†å®¶<code>id</code>ä½œä¸º<code>key</code></li><li>å°†å‚ä¸æŠ¢è´­çš„å•†å“<code>id</code>ä½œä¸º<code>field</code></li><li>å°†å‚ä¸æŠ¢è´­çš„å•†å“æ•°é‡ä½œä¸ºå¯¹åº”çš„<code>value</code></li><li>æŠ¢è´­æ—¶ä½¿ç”¨é™è‡³çš„æ–¹å¼æ§åˆ¶äº§å“æ•°é‡</li><li>å®é™…ä¸šåŠ¡ä¸­è¿˜æœ‰è¶…å–ç­‰å®é™…é—®é¢˜ï¼Œè¿™é‡Œä¸åš</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hmset p01 c30 <span class="token number">1000</span> c50 <span class="token number">1000</span> c100 <span class="token number">1000</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hincrby p01 c50 <span class="token parameter variable">-1</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">999</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hincrby p01 c100 <span class="token parameter variable">-20</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">980</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hgetall p01
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;c30&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;1000&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;c50&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;999&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;c100&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;980&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="tips-5" tabindex="-1"><a class="header-anchor" href="#tips-5" aria-hidden="true">#</a> Tips 5</h4><p><code>Redis</code>åº”ç”¨äºæŠ¢è´­ï¼Œé™è´­ç±»ã€é™é‡å‘æ”¾ä¼˜æƒ å·ã€æ¿€æ´»ç ç­‰ä¸šåŠ¡çš„æ•°æ®å­˜å‚¨</p><h3 id="stringä¸hash" tabindex="-1"><a class="header-anchor" href="#stringä¸hash" aria-hidden="true">#</a> <code>string</code>ä¸<code>hash</code></h3><h4 id="ä¸šåŠ¡åœºæ™¯-5" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯-5" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h4><p><code>string</code>å­˜å‚¨å¯¹è±¡ï¼ˆ<code>json</code>ï¼‰ä¸<code>hash</code>å­˜å‚¨ã€‚</p><h4 id="è§£å†³æ–¹æ¡ˆ-5" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-5" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆ</h4><ul><li><code>string</code>ï¼ˆ<code>json</code>ï¼‰è®²ç©¶æ•´ä½“æ€§ï¼Œæ•°æ®ä»¥æ•´ä½“æ“ä½œï¼Œè¦ä¹ˆä¸€æ¬¡æ€§æ›´æ–°ï¼Œè¦ä¹ˆä¸€æ¬¡æ€§è·å–ï¼Œä»¥è¯»ä¸ºä¸»</li><li><code>hash</code>ä»¥<code>filed</code>å°†å±æ€§éš”ç¦»ï¼Œä»¥æ›´æ–°ä¸ºä¸»</li><li>æ›´æ–°æ“ä½œå¤šç”¨<code>hash</code>ï¼ŒæŠŠæ•°æ®å¯¹å¤–åŒ…è£…å‡ºå»ç”¨<code>string</code></li></ul><h1 id="list-ç±»å‹" tabindex="-1"><a class="header-anchor" href="#list-ç±»å‹" aria-hidden="true">#</a> List ç±»å‹</h1><ul><li>æ•°æ®å­˜å‚¨éœ€æ±‚ï¼šå­˜å‚¨å¤šä¸ªæ•°æ®ï¼Œå¹¶å¯¹æ•°æ®è¿›å…¥å­˜å‚¨ç©ºé—´çš„é¡ºåºè¿›è¡ŒåŒºåˆ†</li><li>éœ€è¦çš„å­˜å‚¨æ•°æ®ï¼šä¸€ä¸ªå­˜å‚¨ç©ºé—´ä¿å­˜å¤šä¸ªæ•°æ®ï¼Œä¸”é€šè¿‡æ•°æ®å¯ä»¥ä½“ç°è¿›å…¥é¡ºåº</li><li><code>list</code>ç±»å‹ï¼šä¿å­˜å¤šä¸ªæ•°æ®ï¼Œåº•å±‚ä½¿ç”¨åŒå‘é“¾è¡¨å­˜å‚¨ç»“æ„å®ç°</li></ul><figure><img src="https://cdn.jsdelivr.net/gh/1coins/assets/redis-data-type/list.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://cdn.jsdelivr.net/gh/1coins/assets/redis-data-type/redis-list.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="åŸºæœ¬æ“ä½œ-2" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬æ“ä½œ-2" aria-hidden="true">#</a> åŸºæœ¬æ“ä½œ</h2><ul><li><p>æ·»åŠ /ä¿®æ”¹æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>lpush key value1 <span class="token punctuation">[</span>value2<span class="token punctuation">]</span> â€¦
rpush key value1 <span class="token punctuation">[</span>value2<span class="token punctuation">]</span> â€¦
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>è·å–æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>lrange key start stop
lindex key index
llen key

å½“ä¸çŸ¥é“æœ‰å¤šå°‘ä¸ªæ•°æ®æ˜¯æ—¶ï¼Œå¯ä»¥ä½¿ç”¨
lrange list1 <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">0</span>ä»£è¡¨é¦–ä¸ªï¼Œ-1è¡¨ç¤ºå€’æ•°ç¬¬ä¸€ä¸ª
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>åˆ é™¤å¹¶ç§»é™¤æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>lpop key
rpop key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpush list1 apple
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpush list1 microsoft
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange <span class="token punctuation">;</span>ist1 <span class="token number">0</span> <span class="token number">2</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;microsoft&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;apple&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;huawei&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> rpush list2 a b c
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange list2 <span class="token number">0</span> <span class="token number">2</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;a&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;b&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;c&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange list1 <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;microsoft&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;apple&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;huawei&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange list1 <span class="token number">0</span> <span class="token parameter variable">-2</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;microsoft&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;apple&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lindex list <span class="token number">0</span>
<span class="token string">&quot;microsoft&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lindex list1 <span class="token number">2</span>
<span class="token string">&quot;huawei&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> llen list1
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpush list3 a b c
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpop list3
<span class="token string">&quot;c&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> llen list3
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpop list3
<span class="token string">&quot;b&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpop list3
<span class="token string">&quot;a&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpop list3
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ‰©å±•æ“ä½œ-2" tabindex="-1"><a class="header-anchor" href="#æ‰©å±•æ“ä½œ-2" aria-hidden="true">#</a> æ‰©å±•æ“ä½œ</h2><ul><li><p>è§„å®šæ—¶é—´å†…è·å–å¹¶ç§»é™¤æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>blpop key1 <span class="token punctuation">[</span>key2<span class="token punctuation">]</span> <span class="token function">timeout</span>
brpop key1 <span class="token punctuation">[</span>key2<span class="token punctuation">]</span> <span class="token function">timeout</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>é˜»å¡å¼è·å–ï¼Œè·å–å€¼å¦‚æœè¿˜æ²¡æœ‰çš„æ—¶å€™å¯ä»¥ç­‰ï¼Œå¦‚æœæœ‰å€¼å°±å¯ä»¥è·å–åˆ°ã€‚</p><ul><li><p>ç§»é™¤æŒ‡å®šæ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>lrem key count value
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h3 id="ä¸šåŠ¡åœºæ™¯-6" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯-6" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h3><p>å¾®ä¿¡æœ‹å‹åœˆç‚¹èµï¼Œè¦æ±‚æŒ‰ç…§ç‚¹èµé¡ºåºæ˜¾ç¤ºç‚¹èµå¥½å‹ä¿¡æ¯ï¼Œå¦‚æœå–æ¶ˆç‚¹èµï¼Œç§»é™¤å¯¹åº”å¥½å‹ä¿¡æ¯ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> rpush dq a b c d e
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">5</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange dq <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;a&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;b&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;c&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;d&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;e&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrem dq <span class="token number">1</span> d
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange dq <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;a&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;b&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;c&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;e&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> rpush dq a b a b c d a c e
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">13</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token punctuation">;</span>rem dq <span class="token number">3</span> a
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange dq <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;b&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;c&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;e&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;b&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;b&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;c&quot;</span>
<span class="token number">7</span><span class="token punctuation">)</span> <span class="token string">&quot;d&quot;</span>
<span class="token number">8</span><span class="token punctuation">)</span> <span class="token string">&quot;a&quot;</span>
<span class="token number">9</span><span class="token punctuation">)</span> <span class="token string">&quot;c&quot;</span>
<span class="token number">10</span><span class="token punctuation">)</span> <span class="token string">&quot;e&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="tips-6" tabindex="-1"><a class="header-anchor" href="#tips-6" aria-hidden="true">#</a> Tips 6</h3><ul><li><code>redis</code>åº”ç”¨äºå…·æœ‰æ“ä½œçº¿åé¡ºåºçš„æ•°æ®æ§åˆ¶</li></ul><h2 id="æ³¨æ„äº‹é¡¹-2" tabindex="-1"><a class="header-anchor" href="#æ³¨æ„äº‹é¡¹-2" aria-hidden="true">#</a> æ³¨æ„äº‹é¡¹</h2><ul><li><code>list</code>ä¸­ä¿å­˜çš„æ•°æ®éƒ½æ˜¯<code>string</code>ç±»å‹çš„ï¼Œæ•°æ®æ€»å®¹é‡å¼æœ‰é™çš„ï¼Œæœ€å¤š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>32</mn></msup><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{32}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">32</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> ä¸ªå…ƒç´ ï¼ˆ4294967295ï¼‰</li><li><code>list</code>å…·æœ‰ç´¢å¼•çš„æ¦‚å¿µï¼Œä½†æ˜¯æ“ä½œæ•°æ®æ—¶å€™é€šå¸¸ä»¥é˜Ÿåˆ—çš„å½¢å¼è¿›è¡Œå…¥é˜Ÿå‡ºé˜Ÿæ“ä½œï¼Œæˆ–ä»¥æ ˆçš„å½¢å¼è¿›å…¥æ ˆå‡ºæ ˆçš„æ“ä½œ</li><li>è·å–å…¨éƒ¨æ•°æ®æ“ä½œç»“æŸç´¢å¼•è®¾ç½®ä¸º -1</li><li><code>list</code>å¯ä»¥å¯¹æ•°æ®è¿›è¡Œåˆ†é¡µæ“ä½œï¼Œé€šè¿‡ç¬¬ä¸€é¡µçš„ä¿¡æ¯æ¥è‡ª<code>list</code>ï¼Œç¬¬ 2 é¡µåŠæ›´å¤šçš„ä¿¡æ¯é€šè¿‡æ•°æ®åº“çš„å½¢å¼åŠ è½½</li></ul><h2 id="åº”ç”¨åœºæ™¯-2" tabindex="-1"><a class="header-anchor" href="#åº”ç”¨åœºæ™¯-2" aria-hidden="true">#</a> åº”ç”¨åœºæ™¯</h2><h3 id="ä¸šåŠ¡åœºæ™¯-7" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯-7" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h3><p><code>twitter</code>ã€æ–°æµªå¾®åšã€è…¾è®¯å¾®åšä¸­ä¸ªäººç”¨äºçš„å…³æ³¨åˆ—è¡¨éœ€è¦æŒ‰ç…§ç”¨æˆ·çš„å…³æ³¨é¡ºåºè¿›è¡Œå±•ç¤ºï¼Œç²‰ä¸åˆ—è¡¨éœ€è¦å°†æœ€è¿‘å…³æ³¨çš„ç²‰ä¸åˆ—åœ¨å‰é¢ï¼Œæ–°é—»ã€èµ„è®¯ç±»ç½‘ç«™å¦‚ä½•å°†æœ€æ–°çš„æ–°é—»æˆ–èµ„è®¯æŒ‰ç…§å‘ç”Ÿçš„äº‹ä»¶é¡ºåºå±•ç¤ºï¼Œä¼ä¸šè¿è¥è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿå°†äº§ç”Ÿå‡ºå¤§é‡çš„è¿è¥æ•°æ®ï¼Œå¦‚ä½•ä¿éšœå •èƒæœåŠ¡å™¨æ“ä½œæ—¥å¿—çš„ç»Ÿä¸€é¡ºåºè¾“å‡ºï¼Ÿ</p><figure><img src="https://cdn.jsdelivr.net/gh/1coins/assets/redis-data-type/redis-list-sort.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="è§£å†³æ–¹æ¡ˆ-6" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-6" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆ</h3><ul><li>ä¾èµ–<code>list</code>çš„æ•°æ®å…·æœ‰é¡ºåºçš„ç‰¹å¾å¯¹ä¿¡æ¯è¿›è¡Œç®¡ç†</li><li>ä½¿ç”¨é˜Ÿåˆ—æ¨¡å‹è§£å†³å¤šè·¯ä¿¡æ¯æ±‡æ€»åˆå¹¶çš„é—®é¢˜</li><li>ä½¿ç”¨æ ˆæ¨¡å‹è§£å†³æœ€æ–°æ¶ˆæ¯çš„é—®é¢˜</li></ul><h3 id="tips-7" tabindex="-1"><a class="header-anchor" href="#tips-7" aria-hidden="true">#</a> Tips 7</h3><p><code>Redis</code>åº”ç”¨äºæœ€æ–°æ¶ˆæ¯ã€‚</p><h1 id="set-ç±»å‹" tabindex="-1"><a class="header-anchor" href="#set-ç±»å‹" aria-hidden="true">#</a> Set ç±»å‹</h1><ul><li>æ–°çš„å­˜å‚¨éœ€æ±‚ï¼šå­˜å‚¨å¤§é‡çš„æ•°æ®ï¼Œåœ¨æŸ¥è¯¢æ–¹é¢æä¾›æ›´é«˜çš„æ•ˆç‡</li><li>éœ€è¦çš„å­˜å‚¨ç»“æ„ï¼šèƒ½å¤Ÿä¿å­˜å¤§é‡çš„æ•°æ®ï¼Œé«˜æ•ˆçš„å†…éƒ¨å­˜å‚¨æœºåˆ¶ï¼Œä¾¿äºæŸ¥è¯¢</li><li><code>set</code>ç±»å‹ï¼šä¸<code>hash</code>å­˜å‚¨ç»“æ„å®Œå…¨ç›¸åŒï¼Œä»…å­˜å‚¨é”®ï¼Œä¸å­˜å‚¨å€¼ï¼ˆ<code>nil</code>ï¼‰ï¼Œå¹¶ä¸”å€¼å¼ä¸å…è®¸é‡å¤çš„</li></ul><figure><img src="https://cdn.jsdelivr.net/gh/1coins/assets/redis-data-type/redis-set.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="åŸºæœ¬æ“ä½œ-3" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬æ“ä½œ-3" aria-hidden="true">#</a> åŸºæœ¬æ“ä½œ</h2><ul><li><p>æ·»åŠ æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>sadd key menber1 <span class="token punctuation">[</span>member2<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>è·å–å…¨éƒ¨æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>smembers key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>åˆ é™¤æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>srem key member1 <span class="token punctuation">[</span>member2<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>è·å–é›†åˆæ•°æ®æ€»é‡</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>scard key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šæ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>sismember key member
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd <span class="token function">users</span> zs
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd <span class="token function">users</span> <span class="token function">ls</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd <span class="token function">users</span> ww
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers <span class="token function">users</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;ww&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;ls&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;zs&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> srem <span class="token function">users</span> ww
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers <span class="token function">users</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;ls&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;zs&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> scard <span class="token function">users</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sismember <span class="token function">users</span> zs
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> simember <span class="token function">users</span> menber
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ‰©å±•æ“ä½œ-3" tabindex="-1"><a class="header-anchor" href="#æ‰©å±•æ“ä½œ-3" aria-hidden="true">#</a> æ‰©å±•æ“ä½œ</h2><h3 id="ä¸šåŠ¡åœºæ™¯-8" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯-8" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h3><p>æ¯ä½ç”¨æˆ·é¦–æ¬¡ä½¿ç”¨è¿›å…¥å¤´æ¡æ—¶å€™ä¼šè®¾ç½® <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> é¡¹çˆ±å¥½çš„å†…å®¹ï¼Œä½†æ˜¯åæœŸä¸ºäº†å¢åŠ ç”¨æˆ·çš„æ´»è·ƒåº¦ï¼Œå…´è¶£ç‚¹ï¼Œå¿…é¡»è®©ç”¨æˆ·å¯¹å…¶ä»–ä¿¡æ¯ç±»åˆ«é€æ¸äº§ç”Ÿå…´è¶£ï¼Œå¢åŠ å®¢æˆ·ç•™å­˜åº¦ï¼Œå¦‚ä½•å®ç°ï¼Ÿ</p><h3 id="ä¸šåŠ¡åˆ†æ-1" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åˆ†æ-1" aria-hidden="true">#</a> ä¸šåŠ¡åˆ†æ</h3><ul><li>ç³»ç»Ÿåˆ†æå‡ºå„ä¸ªåˆ†ç±»çš„æœ€æ–°æˆ–æœ€çƒ­ç‚¹ä¿¡æ¯æ¡ç›®å¹¶ç»„ç»‡æˆ<code>set</code>é›†åˆ</li><li>éšæœºæŒ‘é€‰å…¶ä¸­éƒ¨åˆ†ä¿¡æ¯</li><li>é…åˆç”¨æˆ·å…³æ³¨ä¿¡æ¯åˆ†ç±»ä¸­çš„çƒ­ç‚¹ä¿¡æ¯ç»„ç»‡å±•ç¤ºçš„å…¨ä¿¡æ¯é›†åˆ</li></ul><h3 id="è§£å†³æ–¹æ¡ˆ-7" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-7" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆ</h3><ul><li><p>éšæœºè·å–é›†åˆä¸­æŒ‡å®šæ•°é‡çš„æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>srandmember key <span class="token punctuation">[</span>count<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>éšæœºè·å–é›†åˆä¸­çš„æŸä¸ªæ•°æ®å¹¶å°†è¯¥æ•°æ®ç§»å‡ºé›†åˆ</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>spop key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd news n1
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd news n2
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd news n3
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd news n4
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> srandmember news <span class="token number">1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;n4&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> srandmember news <span class="token number">1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;n3&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> scard news
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> srandmember news <span class="token number">3</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;n1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;n3&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;n2&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> spop news 
<span class="token string">&quot;n2&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers news
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;n3&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;n1&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;n4&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> spop news <span class="token number">2</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;n4&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;n1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers news
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;n3&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="tips-8" tabindex="-1"><a class="header-anchor" href="#tips-8" aria-hidden="true">#</a> Tips 8</h3><p><code>Redis</code>åº”ç”¨äºéšæœºæ¨èç±»ä¿¡æ¯æ£€ç´¢ï¼Œä¾‹å¦‚çƒ­ç‚¹æ­Œå•æ¨èï¼Œçƒ­ç‚¹æ–°é—»æ¨èï¼Œçƒ­ç‚¹æ—…æ¸¸çº¿è·¯ï¼Œåº”ç”¨<code>APP</code>æ¨èï¼Œå¤§ V æ¨èç­‰ã€‚</p><h2 id="æ‰©å±•æ“ä½œ-4" tabindex="-1"><a class="header-anchor" href="#æ‰©å±•æ“ä½œ-4" aria-hidden="true">#</a> æ‰©å±•æ“ä½œ</h2><h3 id="ä¸šåŠ¡åœºæ™¯-9" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯-9" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h3><p>è„‰è„‰ä¸ºäº†ä¿ƒè¿›ç”¨æˆ·é—´çš„äº¤æµï¼Œä¿éšœä¸šåŠ¡æˆå•ç‡çš„æå‡ï¼Œéœ€è¦è®©æ¯ä½ç”¨æˆ·æ‹¥æœ‰å¤§é‡çš„å¥½å‹ï¼Œäº‹å®ä¸ŠèŒåœºæ–°äººä¸å…·æœ‰æ›´å¤šçš„èŒåœºå¥½å‹ï¼Œå¦‚ä½•å¿«é€Ÿä¸ºç”¨æˆ·ç§¯ç´¯æ›´å¤šçš„å¥½å‹ï¼Ÿ</p><p>æ–°æµªå¾®åšä¸ºäº†å¢åŠ ç”¨æˆ·çƒ­åº¦ï¼Œæé«˜ç”¨æˆ·ç•™å­˜æ€§ï¼Œéœ€è¦å¾®åšç”¨æˆ·åœ¨å…³æ³¨æ›´å¤šçš„äººï¼Œä»¥æ­¤è·å¾—æ›´å¤šçš„ä¿¡æ¯æˆ–çƒ­é—¨è¯é¢˜ï¼Œå¦‚ä½•æé«˜ç”¨æˆ·å…³æ³¨ä»–äººçš„æ€»é‡ï¼Ÿ</p><p><code>QQ</code>æ–°ç”¨æˆ·å…¥ç½‘å¹´é¾„è¶Šæ¥è¶Šä½ï¼Œè¿™äº›ç”¨æˆ·çš„æœ‹å‹åœˆäº¤é™…åœˆéå¸¸å°ï¼Œå¾€å¾€é›†ä¸­åœ¨ä¸€æ‰€å­¦æ ¡ç”šè‡³ä¸€ä¸ªç­çº§ä¸­ï¼Œå¦‚ä½•å¸®åŠ©ç”¨æˆ·å¿«é€Ÿç§¯ç´¯å¥½å‹ç”¨æˆ·å¸¦æ¥æ›´å¤šçš„æ´»è·ƒåº¦ï¼Ÿ</p><p>å¾®ä¿¡å…¬ä¼—å·æ˜¯å¾®ä¿¡ä¿¡æ¯æµé€šçš„æ¸ é“ä¹‹ä¸€ï¼Œå¢åŠ ç”¨æˆ·å…³æ³¨çš„å…¬ä¼—å·æˆä¸ºæé«˜ç”¨æˆ·æ´»è·ƒåº¦çš„ä¸€ç§æ–¹å¼ï¼Œå¦‚ä½•å¸®åŠ©ç”¨æˆ·ç§¯ç´¯æ›´å¤šå…³æ³¨çš„å…¬ä¼—å·ï¼Ÿ</p><p>ç¾å›¢å¤–å–ä¸ºäº†æå‡æˆå•é‡ï¼Œå¿…é¡»å¸®åŠ©ç”¨æˆ·æŒ–æ˜ç¾é£Ÿéœ€æ±‚ï¼Œå¦‚ä½•æ¨èç»™ç”¨æˆ·æœ€é€‚åˆè‡ªå·±çš„ç¾</p><h3 id="è§£å†³æ–¹æ¡ˆ-8" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-8" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆ</h3><ul><li><p>æ±‚ä¸¤ä¸ªé›†åˆçš„äº¤ã€å¹¶ã€å·®é›†</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>sinter key1 <span class="token punctuation">[</span>key2<span class="token punctuation">]</span>
sunion key1 <span class="token punctuation">[</span>key2<span class="token punctuation">]</span>
<span class="token function">sdiff</span> key1 <span class="token punctuation">[</span>key2<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æ±‚ä¸¤ä¸ªé›†åˆçš„äº¤ã€å¹¶ã€å·®é›†å¹¶å­˜å‚¨åˆ°æŒ‡å®šé›†åˆä¸­</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>sinterstore destination key1 <span class="token punctuation">[</span>key2<span class="token punctuation">]</span>
sunionstore destination key1 <span class="token punctuation">[</span>key2<span class="token punctuation">]</span>
sdiffstore destination key1 <span class="token punctuation">[</span>key2<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å°†æŒ‡å®šæ•°æ®ä»åŸå§‹é›†åˆç§»åŠ¨åˆ°ç›®æ ‡é›†åˆä¸­</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>smove <span class="token builtin class-name">source</span> destination member
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd u1 a1
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd u1 s1
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd u1 b1
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd u2 s1
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd u2 w1
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sinter u1 u2
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;s1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sunion u1 u2
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;a1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;b1&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;w1&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;s1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">sdiff</span> u1 u2
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;a1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;b1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">sdiff</span> u2 u1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;w1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sinterstore u3 u1 u2
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers u3
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;s1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smove u2 u1 w1
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers u1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;b1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;a1&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;w1&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;s1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="tips-9" tabindex="-1"><a class="header-anchor" href="#tips-9" aria-hidden="true">#</a> Tips 9</h3><ul><li><code>Redis</code>åº”ç”¨äºåŒç±»ä¿¡æ¯çš„å…³è”æœç´¢ï¼ŒäºŒåº¦å…³è”æœç´¢ï¼Œæ·±åº¦å…³è”æœç´¢</li><li>æ˜¾ç¤ºå…±åŒå…³æ³¨ï¼ˆä¸€åº¦ï¼‰</li><li>æ˜¾ç¤ºå…±åŒå¥½å‹ï¼ˆä¸€åº¦ï¼‰</li><li>ç”±ç”¨æˆ·<code>A</code>å‡ºå‘ï¼Œè·å–åˆ°å¥½å‹ç”¨æˆ·<code>B</code>çš„å¥½å‹ä¿¡æ¯åˆ—è¡¨ï¼ˆä¸€åº¦ï¼‰</li><li>ç”±ç”¨æˆ·<code>A</code>å‡ºå‘ï¼Œè·å–åˆ°å¥½å‹ç”¨æˆ·<code>B</code>çš„è´­ç‰©æ¸…å•åˆ—è¡¨ï¼ˆäºŒåº¦ï¼‰</li><li>ç”±ç”¨æˆ·<code>A</code>å‡ºå‘ï¼Œè·å–åˆ°å¥½å‹ç”¨æˆ·<code>B</code>çš„æ¸¸æˆå……å€¼åˆ—è¡¨ï¼ˆäºŒåº¦ï¼‰</li></ul><h2 id="æ³¨æ„äº‹é¡¹-3" tabindex="-1"><a class="header-anchor" href="#æ³¨æ„äº‹é¡¹-3" aria-hidden="true">#</a> æ³¨æ„äº‹é¡¹</h2><ul><li><code>set</code>ç±»å‹ä¸å…è®¸æ•°æ®é‡å¤ï¼Œå¦‚æœæ·»åŠ çš„æ•°æ®åœ¨<code>set</code>ä¸­å·²ç»å­˜åœ¨ï¼Œå°†åªä¿ç•™ä¸€ä»½</li><li><code>set</code>è™½ç„¶ä¸<code>hash</code>çš„å­˜å‚¨ç»“æ„ç›¸åŒï¼Œä½†æ˜¯æ— æ³•å¯ç”¨<code>hash</code>ä¸­å­˜å‚¨å€¼çš„ç©ºé—´</li></ul><h2 id="åº”ç”¨åœºæ™¯-3" tabindex="-1"><a class="header-anchor" href="#åº”ç”¨åœºæ™¯-3" aria-hidden="true">#</a> åº”ç”¨åœºæ™¯</h2><h3 id="æƒé™æ ¡éªŒ" tabindex="-1"><a class="header-anchor" href="#æƒé™æ ¡éªŒ" aria-hidden="true">#</a> æƒé™æ ¡éªŒ</h3><h4 id="ä¸šåŠ¡åœºæ™¯-10" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯-10" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h4><p>é›†å›¢å…¬å¸å…±å…·æœ‰ 12000 åå‘˜å·¥ï¼Œå†…éƒ¨<code>OA</code>ç³»ç»Ÿä¸­å…·æœ‰ 700 å¤šä¸ªè§’è‰²ï¼Œ3000 å¤šä¸ªä¸šåŠ¡æ“ä½œï¼Œ23000 å¤šç§æ•°æ®ï¼Œæ¯ä½å‘˜å·¥å…·æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè§’è‰²ï¼Œå¦‚ä½•å¿«é€Ÿè¿›è¡Œä¸šåŠ¡æ“ä½œçš„æƒé™æ ¡éªŒï¼Ÿ</p><figure><img src="https://cdn.jsdelivr.net/gh/1coins/assets/redis-data-type/oa-authentication.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="è§£å†³æ–¹æ¡ˆ-9" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-9" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆ</h4><ul><li>ä¾èµ–<code>set</code>é›†åˆæ•°æ®ä¸é‡å¤çš„ç‰¹å¾ï¼Œä¾èµ–<code>set</code>é›†åˆ<code>hash</code>å­˜å‚¨ç»“æ„ç‰¹å¾å®Œæˆæ•°æ®è¿‡æ»¤ä¸å¿«é€ŸæŸ¥è¯¢</li><li>æ ¹æ®ç”¨æˆ·<code>id</code>è·å–ç”¨æˆ·æ‰€æœ‰è§’è‰²</li><li>æ ¹æ®ç”¨æˆ·æ‰€æœ‰è§’è‰²è·å–ç”¨æˆ·æ‰€æœ‰æ“ä½œæƒé™æ”¾å…¥<code>set</code>é›†åˆ</li><li>æ ¹æ®ç”¨æˆ·æ‰€æœ‰è§‰å¾—è·å–ç”¨æˆ·æ‰€æœ‰æ•°æ®å…¨é€‰æ”¾å…¥<code>set</code>é›†åˆ</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> asdd rid:001 getall
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd rid:001 getById
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd rid:002 getCount
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd rid:002 getall
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd rid:002 insert
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sunionstore uid:007 rid:001 rid:002
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers uid:007
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;getCount&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;getById&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;insert&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;getall&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sismember uid:007 insert
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ ¡éªŒå·¥ä½œ" tabindex="-1"><a class="header-anchor" href="#æ ¡éªŒå·¥ä½œ" aria-hidden="true">#</a> æ ¡éªŒå·¥ä½œ</h4><p><code>Redis</code>æä¾›åŸºç¡€æ•°æ®è¿˜æ˜¯æä¾›æ ¡éªŒç»“æœï¼Ÿ</p><p>ä¸€èˆ¬åªè®©<code>Redis</code>æä¾›åŸºç¡€æ•°æ®ï¼Œå°†ä¸šåŠ¡é€»è¾‘æ”¾åœ¨ç¨‹åºä¸­</p><h4 id="tips-10" tabindex="-1"><a class="header-anchor" href="#tips-10" aria-hidden="true">#</a> Tips 10</h4><p><code>Redis</code>åº”ç”¨äºåŒç±»å‹ä¸é‡å¤æ•°æ®çš„åˆå¹¶æ“ä½œ</p><h3 id="ç½‘ç«™è®¿é—®é‡ç»Ÿè®¡" tabindex="-1"><a class="header-anchor" href="#ç½‘ç«™è®¿é—®é‡ç»Ÿè®¡" aria-hidden="true">#</a> ç½‘ç«™è®¿é—®é‡ç»Ÿè®¡</h3><h4 id="ä¸šåŠ¡åœºæ™¯-11" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯-11" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h4><p>å…¬å¸å¯¹æ——ä¸‹æ–°çš„ç½‘ç«™åšæ¨å¹¿ï¼Œç»Ÿè®¡ç½‘ç«™çš„<code>PV</code>ï¼ˆè®¿é—®é‡ï¼‰ï¼Œ<code>UV</code>ï¼ˆç‹¬ç«‹è®¿å®¢ï¼‰ï¼Œ<code>IP</code>ï¼ˆç‹¬ç«‹<code>IP</code>ï¼‰ã€‚</p><ul><li><code>PV</code>ï¼šç½‘ç«™è¢«è®¿é—®æ¬¡æ•°ï¼Œå¯é€šè¿‡åˆ·æ–°é¡µé¢æé«˜è®¿é—®é‡</li><li><code>UV</code>ï¼šç½‘ç«™è¢«ä¸åŒç”¨æˆ·è®¿é—®çš„æ¬¡æ•°ï¼Œå¯é€šè¿‡<code>cookie</code>ç»Ÿè®¡è®¿é—®é‡ï¼Œç›¸åŒç”¨æˆ·åˆ‡æ¢<code>IP</code>åœ°å€ï¼Œ<code>UV</code>ä¸å˜</li><li><code>IP</code>ï¼šç½‘ç«™è¢«ä¸åŒ<code>IP</code>åœ°å€è®¿é—®çš„æ€»æ¬¡æ•°ï¼Œå¯é€šè¿‡<code>IP</code>åœ°å€ç»Ÿè®¡è®¿é—®é‡ï¼Œç›¸åŒ<code>IP</code>ä¸åŒç”¨æˆ·è®¿é—®ï¼Œ<code>IP</code>ä¸å˜</li></ul><h4 id="è§£å†³æ–¹æ¡ˆ-10" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-10" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆ</h4><ul><li>åˆ©ç”¨<code>set</code>é›†åˆçš„æ•°æ®å»é‡ç‰¹å¾ï¼Œè®°å½•å„ç§è®¿é—®æ•°æ®</li><li>å»ºç«‹<code>string</code>ç±»å‹æ•°æ®ï¼Œåˆ©ç”¨<code>incr</code>ç»Ÿè®¡æ—¥è®¿é—®é‡ï¼ˆ<code>PV</code>)</li><li>å»ºç«‹<code>set</code>æ¨¡å‹ï¼Œè®°å½•ä¸åŒ<code>cookie</code>æ•°é‡ï¼ˆ<code>UV</code>)</li><li>å»ºç«‹<code>set</code>æ¨¡å‹ï¼Œè®°å½•ä¸ç”¨<code>IP</code>æ•°é‡ï¼ˆ<code>IP</code>)</li></ul><h4 id="tips-11" tabindex="-1"><a class="header-anchor" href="#tips-11" aria-hidden="true">#</a> Tips 11</h4><p><code>Redis</code>åº”ç”¨äºåŒç±»å‹æ•°æ®çš„å¿«é€Ÿå»é‡ã€‚</p><h3 id="ç½‘ç«™é»‘ç™½åå•" tabindex="-1"><a class="header-anchor" href="#ç½‘ç«™é»‘ç™½åå•" aria-hidden="true">#</a> ç½‘ç«™é»‘ç™½åå•</h3><h4 id="ä¸šåŠ¡åœºæ™¯-12" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯-12" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h4><p><strong>é»‘åå•</strong></p><p>èµ„è®¯ç±»ä¿¡æ¯ç±»ç½‘ç«™è¿½æ±‚é«˜è®¿é—®é‡ï¼Œä½†æ˜¯ç”±äºå…¶ä¿¡æ¯çš„ä»·å€¼ï¼Œå¾€å¾€å®¹æ˜“è¢«ä¸æ³•åˆ†å­åˆ©ç”¨ï¼Œé€šè¿‡çˆ¬è™«æŠ€æœ¯ï¼Œå¿«é€Ÿè·å–ä¿¡æ¯ï¼Œä¸ªåˆ«ç‰¹ç§è¡Œä¸šç½‘ç«™ä¿¡æ¯é€šè¿‡çˆ¬è™«è·å–åˆ†æåï¼Œå¯ä»¥è½¬æ¢æˆå•†ä¸šæœºå¯†è¿›è¡Œå‡ºå”®ï¼›ä¾‹å¦‚ç¬¬ä¸‰æ–¹ç«è½¦ç¥¨ã€æœºç¥¨ã€é…’åº—åˆ·ç¥¨ä»£è´­è½¯ä»¶ï¼Œç”µå•†åˆ·è¯„è®ºã€åˆ·å¥½è¯„ã€‚</p><p>åŒæ—¶çˆ¬è™«å¸¦æ¥çš„ä¼ªæµé‡ä¹Ÿä¼šç»™ç»è¥è€…å¸¦æ¥é”™è§‰ï¼Œäº§ç”Ÿé”™è¯¯çš„å†³ç­–ï¼Œæœ‰æ•ˆé¿å…ç½‘ç«™è¢«çˆ¬è™«åå¤çˆ¬å–æˆä¸ºæ¯ä¸ªç½‘ç«™éƒ½è¦è€ƒè™‘çš„åŸºæœ¬é—®é¢˜ã€‚åœ¨åŸºäºæŠ€æœ¯å±‚é¢åŒºåˆ†å‡ºçˆ¬è™«ç”¨æˆ·åï¼Œéœ€è¦å°†æ­¤ç±»ç”¨æˆ·è¿›è¡Œæœ‰æ•ˆçš„å±è”½ï¼Œè¿™å°±æ˜¯<strong>é»‘åå•</strong>çš„å…¸å‹åº”ç”¨ã€‚</p><p>PSï¼šä¸æ˜¯è¯´çˆ¬è™«ä¸€å®šåšæ‘§æ¯æ€§çš„å·¥ä½œï¼Œæœ‰äº›å°å‹ç½‘ç«™éœ€è¦çˆ¬è™«ä¸ºå…¶å¸¦æ¥ä¸€äº›æµé‡ã€‚</p><p><strong>ç™½åå•</strong></p><p>å¯¹äºå®‰å…¨æ€§æ›´é«˜çš„åº”ç”¨è®¿é—®ï¼Œä»…ä»…é é»‘åå•æ˜¯ä¸èƒ½è§£å†³å®‰å…¨é—®é¢˜çš„ï¼Œæ­¤æ—¶éœ€è¦è®¾å®šå¯è®¿é—®çš„ç”¨æˆ·ç¾¤ä½“ï¼Œä¾èµ–<strong>ç™½åå•</strong>åšæ›´ä¸ºè‹›åˆ»çš„è®¿é—®éªŒè¯ã€‚</p><h4 id="è§£å†³æ–¹æ¡ˆ-11" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-11" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆ</h4><ul><li>åŸºäºç»è¥æˆ˜ç•¥è®¾å®šé—®é¢˜ç”¨æˆ·å‘ç°ã€é‰´åˆ«è§„åˆ™</li><li>å‘¨æœŸæ€§æ›´è¡Œæ»¡è¶³è§„åˆ™çš„ç”¨æˆ·é»‘åå•ï¼ŒåŠ å…¥<code>set</code>é›†åˆ</li><li>ç”¨æˆ·è¡Œä¸ºä¿¡æ¯è¾¾åˆ°åä¸é»‘åå•è¿›è¡Œæ¯”æ¯”å¯¹ï¼Œç¡®è®¤è¡Œä¸ºå»å‘</li><li>é»‘åå•è¿‡æ»¤<code>IP</code>åœ°å€ï¼šåº”ç”¨äºå¼€æ”¾æ¸¸å®¢è®¿é—®æƒé™çš„ä¿¡æ¯æº</li><li>é»‘åå•è¿‡æ»¤è®¾å¤‡ä¿¡æ¯ï¼šåº”ç”¨äºé™å®šè®¿é—®è®¾å¤‡çš„ä¿¡æ¯æº</li><li>é»‘åå•è¿‡æ»¤ç”¨æˆ·ï¼šåº”ç”¨äºåŸºäºè®¿é—®æƒé™çš„ä¿¡æ¯æº</li></ul><h4 id="tips-12" tabindex="-1"><a class="header-anchor" href="#tips-12" aria-hidden="true">#</a> Tips 12</h4><p><code>Redis</code>åº”ç”¨äºåŸºäºé»‘åå•ä¸ç™½åå•è®¾å®šçš„æœåŠ¡æ§åˆ¶ã€‚</p><p>â€</p><h1 id="sorted-set-zset" tabindex="-1"><a class="header-anchor" href="#sorted-set-zset" aria-hidden="true">#</a> Sorted_setï¼ˆZsetï¼‰</h1><ul><li>æ–°çš„å­˜å‚¨éœ€æ±‚ï¼šæ ¹æ®æ’åºæœ‰åˆ©äºæ•°æ®çš„æœ‰æ•ˆæ˜¾ç¤ºï¼Œéœ€è¦æä¾›ä¸€ç§å¯ä»¥æ ¹æ®è‡ªèº«ç‰¹å¾è¿›è¡Œæ’åºçš„æ–¹å¼</li><li>éœ€è¦çš„å­˜å‚¨ç»“æ„ï¼šæ–°çš„å­˜å‚¨æ¨¡å‹ï¼Œå¯ä»¥ä¿å­˜å¯æ’åºçš„æ•°æ®</li><li><code>sorted_set</code>ç±»å‹ï¼šåœ¨<code>set</code>çš„å­˜å‚¨ç»“æ„åŸºç¡€ä¸Šæ·»åŠ å¯æ’åºå­—æ®µ</li></ul><figure><img src="https://cdn.jsdelivr.net/gh/1coins/assets/redis-data-type/edis-sorted-set.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="åŸºæœ¬æ“ä½œ-4" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬æ“ä½œ-4" aria-hidden="true">#</a> åŸºæœ¬æ“ä½œ</h2><ul><li><p>æ·»åŠ æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>zadd key score1 member1 <span class="token punctuation">[</span>score2 member2<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>è·å–å…¨éƒ¨æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>zrange key start stop <span class="token punctuation">[</span>WITHSCORES<span class="token punctuation">]</span>
zrevrange key start stop <span class="token punctuation">[</span>WITHSCORES<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>åˆ é™¤æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>zrem key member <span class="token punctuation">[</span>member â€¦<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>æŒ‰æ¡ä»¶è·å–æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>zrangebyscore key min max <span class="token punctuation">[</span>WITHSCORES<span class="token punctuation">]</span> <span class="token punctuation">[</span>LIMIT<span class="token punctuation">]</span>
zrevrangebyscore key max min <span class="token punctuation">[</span>WITHSCORES<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æ¡ä»¶åˆ é™¤</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>zremrangebyrank key start stop
zremrangebyscore key min max
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p><strong>æ³¨æ„</strong>ï¼š</p><ul><li><p><code>min</code>ä¸<code>max</code>ç”¨äºé™å®šæœç´¢æŸ¥è¯¢çš„æ¡ä»¶</p></li><li><p><code>start</code>ä¸<code>stop</code>ç”¨äºé™å®šæŸ¥è¯¢èŒƒå›´ï¼Œä½œç”¨äºç´¢å¼•ï¼Œè¡¨ç¤ºå¼€å§‹å’Œç»“æŸç´¢å¼•</p></li><li><p><code>offset</code>ä¸<code>count</code>ç”¨äºé™å®šæŸ¥è¯¢èŒƒå›´ï¼Œä½œç”¨äºæŸ¥è¯¢ç»“æœï¼Œè¡¨ç¤ºå¼€å§‹ä½ç½®å’Œæ•°æ®æ€»é‡</p></li><li><p>è·å–é›†åˆæ•°æ®æ€»é‡</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>zcard key
zcount key min max
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>é›†åˆäº¤ã€å¹¶æ“ä½œ</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>zinterstore destination numkeys key <span class="token punctuation">[</span>key â€¦<span class="token punctuation">]</span>
zunionstore destination numkeys key <span class="token punctuation">[</span>key â€¦<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd scores <span class="token number">100</span> <span class="token function">ls</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd scores <span class="token number">60</span> ww
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd scores <span class="token number">47</span> zl
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange scores <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;zl&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;ww&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;ls&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange scores <span class="token number">0</span> <span class="token parameter variable">-1</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;zl&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;47&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;ww&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;60&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;ls&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;100&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrevrange scores <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;ls&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;ww&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;zl&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrem scores ww
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrevrange scores <span class="token number">0</span> <span class="token parameter variable">-1</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;ls&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;100&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;zl&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;47&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange scores <span class="token number">0</span> <span class="token parameter variable">-1</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;wangwu&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;45&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;zhangsan&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;67&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;zhouqi&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;71&quot;</span>
<span class="token number">7</span><span class="token punctuation">)</span> <span class="token string">&quot;qiamba&quot;</span>
<span class="token number">8</span><span class="token punctuation">)</span> <span class="token string">&quot;92&quot;</span>
<span class="token number">9</span><span class="token punctuation">)</span> <span class="token string">&quot;lisi&quot;</span>
<span class="token number">10</span><span class="token punctuation">)</span> <span class="token string">&quot;99&quot;</span>
<span class="token number">11</span><span class="token punctuation">)</span> <span class="token string">&quot;zhaoliu&quot;</span>
<span class="token number">12</span><span class="token punctuation">)</span> <span class="token string">&quot;100&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrangebyscore scores <span class="token number">50</span> <span class="token number">80</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;zhangsan&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;67&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;zhouqi&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;71&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrangebyscore scores <span class="token number">50</span> <span class="token number">99</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;zhangsan&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;67&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;zhouqi&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;71&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;qiamba&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;92&quot;</span>
<span class="token number">7</span><span class="token punctuation">)</span> <span class="token string">&quot;lisi&quot;</span>
<span class="token number">8</span><span class="token punctuation">)</span> <span class="token string">&quot;99&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrangebyscore scores <span class="token number">50</span> <span class="token number">90</span> limit <span class="token number">0</span> <span class="token number">3</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;zhangsan&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;67&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;zhouqi&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;71&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;qiamba&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;92&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zremrangebyscore scores <span class="token number">50</span> <span class="token number">70</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange scores <span class="token number">0</span> <span class="token parameter variable">-1</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;wangwu&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;45&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;zhouqi&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;71&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;qiamba&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;92&quot;</span>
<span class="token number">7</span><span class="token punctuation">)</span> <span class="token string">&quot;lisi&quot;</span>
<span class="token number">8</span><span class="token punctuation">)</span> <span class="token string">&quot;99&quot;</span>
<span class="token number">9</span><span class="token punctuation">)</span> <span class="token string">&quot;zhaoliu&quot;</span>
<span class="token number">10</span><span class="token punctuation">)</span> <span class="token string">&quot;100&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zremrangebyrank scores <span class="token number">0</span> <span class="token number">1</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange scores <span class="token number">0</span> <span class="token parameter variable">-1</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;qiamba&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;92&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;lisi&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;99&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;zhaoliu&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;100&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zcard scores
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zcount scores <span class="token number">99</span> <span class="token number">200</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd s1 <span class="token number">50</span> aa <span class="token number">60</span> bb <span class="token number">70</span> cc
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd s2 <span class="token number">60</span> aa <span class="token number">40</span> bb <span class="token number">90</span> <span class="token function">dd</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd s3 <span class="token number">70</span> aa <span class="token number">20</span> bb <span class="token number">100</span> <span class="token function">dd</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zinterstore ss <span class="token number">3</span> s1 s2 s3
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange ss <span class="token number">0</span> <span class="token parameter variable">-1</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;bb&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;120&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;aa&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;180&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zinterstore sss <span class="token number">3</span> s1 s2 s3 aggregate max
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange sss <span class="token number">0</span> <span class="token parameter variable">-1</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;b&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;60&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;aa&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;70&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ‰©å±•æ“ä½œ-5" tabindex="-1"><a class="header-anchor" href="#æ‰©å±•æ“ä½œ-5" aria-hidden="true">#</a> æ‰©å±•æ“ä½œ</h2><h3 id="æ’è¡Œæ¦œ" tabindex="-1"><a class="header-anchor" href="#æ’è¡Œæ¦œ" aria-hidden="true">#</a> æ’è¡Œæ¦œ</h3><h4 id="ä¸šåŠ¡åœºæ™¯-13" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯-13" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h4><ul><li>ç¥¨é€‰å¹¿ä¸œåå¤§æ°å‡ºé’å¹´</li><li>å„ç±»ç»¼è‰ºé€‰ç§€æµ·é€‰æŠ•ç¥¨å„ç±»èµ„æºç½‘ç«™TOP10ï¼ˆç”µå½±ï¼Œæ­Œæ›²ï¼Œæ–‡æ¡£ï¼Œç”µå•†ï¼Œæ¸¸æˆç­‰ï¼‰</li><li>èŠå¤©å®¤æ´»è·ƒåº¦</li><li>ç»Ÿè®¡æ¸¸æˆå¥½å‹äº²å¯†åº¦</li></ul><h4 id="ä¸šåŠ¡åˆ†æ-2" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åˆ†æ-2" aria-hidden="true">#</a> ä¸šåŠ¡åˆ†æ</h4><p>ä¸ºæ‰€æœ‰å‚ä¸æ’åçš„èµ„æºå»ºç«‹æ’åºã€‚</p><h4 id="è§£å†³æ–¹æ¡ˆ-12" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-12" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆ</h4><ul><li><p>è·å–æ•°æ®å¯¹åº”çš„ç´¢å¼•ï¼ˆæ’åï¼‰</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>zrank key member
zrevrank key member
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>score</code>å€¼è·å–ä¸ä¿®æ”¹</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>zscore key member
zincrby key increment member
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd movies <span class="token number">143</span> aa <span class="token number">97</span> bb <span class="token number">201</span> cc
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrank movies bb
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrevrank movies bb
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zscore movies aa
<span class="token string">&quot;143&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zincrby movies <span class="token number">1</span> aa
<span class="token string">&quot;144&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zscore movies aa
<span class="token string">&quot;144&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="tips-13" tabindex="-1"><a class="header-anchor" href="#tips-13" aria-hidden="true">#</a> Tips 13</h4><p><code>Redis</code>åº”ç”¨äºè®¡æ•°å™¨ç»„åˆæ’åºåŠŸèƒ½å¯¹åº”çš„æ’åã€‚</p><h2 id="æ³¨æ„äº‹é¡¹-4" tabindex="-1"><a class="header-anchor" href="#æ³¨æ„äº‹é¡¹-4" aria-hidden="true">#</a> æ³¨æ„äº‹é¡¹</h2><ul><li><code>score</code>ä¿å­˜çš„æ•°æ®å­˜å‚¨ç©ºé—´æ˜¯ 64 ä½ï¼Œå¦‚æœæ˜¯æ•´æ•°èŒƒå›´æ˜¯ -9007199254740992~9007199254740992</li><li><code>score</code>ä¿å­˜çš„æ•°æ®ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªåŒç²¾åº¦çš„<code>double</code>å€¼ï¼ŒåŸºäºåŒç²¾åº¦æµ®ç‚¹æ•°çš„ç‰¹å¾ï¼Œå¯èƒ½ä¼šä¸¢å¤±ç²¾åº¦ï¼Œä½¿ç”¨æ—¶ä¾¯è¦æ…é‡</li><li><code>sorted_set</code>åº•å±‚å­˜å‚¨è¿˜æ˜¯åŸºäº<code>set</code>ç»“æ„çš„ï¼Œå› æ­¤æ•°æ®ä¸èƒ½é‡å¤ï¼Œå¦‚æœé‡å¤æ·»åŠ ç›¸åŒçš„æ•°æ®ï¼Œ<code>score</code>å€¼å°†è¢«åå¤è¦†ç›–ï¼Œä¿ç•™æœ€åä¸€æ¬¡ä¿®æ”¹çš„ç»“æœ</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd test1 ll aa
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange test1 <span class="token number">0</span> <span class="token parameter variable">-1</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;aa&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;ll&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd test1 <span class="token number">22</span> aa
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange test1 <span class="token number">0</span> <span class="token parameter variable">-1</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;aa&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;22&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd test1 <span class="token number">33</span> aa
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange test1 <span class="token number">0</span> <span class="token parameter variable">-1</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;aa&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;33&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åº”ç”¨åœºæ™¯-4" tabindex="-1"><a class="header-anchor" href="#åº”ç”¨åœºæ™¯-4" aria-hidden="true">#</a> åº”ç”¨åœºæ™¯</h2><h3 id="æ—¶æ•ˆæ€§ä»»åŠ¡ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#æ—¶æ•ˆæ€§ä»»åŠ¡ç®¡ç†" aria-hidden="true">#</a> æ—¶æ•ˆæ€§ä»»åŠ¡ç®¡ç†</h3><h4 id="ä¸šåŠ¡åœºæ™¯-14" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯-14" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h4><p>åŸºç¡€æœåŠ¡+å¢å€¼æœåŠ¡ç±»ç½‘ç«™ä¼šè®¾å®šå„ä½ä¼šå‘˜çš„è¯•ç”¨ï¼Œè®©ç”¨æˆ·å……åˆ†ä½“éªŒä¼šå‘˜ä¼˜åŠ¿ã€‚ä¾‹å¦‚è§‚å½±è¯•ç”¨<code>VIP</code>ã€æ¸¸æˆ<code>VIP</code>ä½“éªŒã€äº‘ç›˜ä¸‹è½½ä½“éªŒ<code>VIP</code>ã€æ•°æ®æŸ¥çœ‹ä½“éªŒ<code>VIP</code>ã€‚å½“<code>VIP</code>ä½“éªŒåˆ°æœŸåï¼Œå¦‚æœæœ‰æ•ˆç®¡ç†æ­¤ç±»ä¿¡æ¯ã€‚å³ä¾¿å¯¹äºæ­£å¼<code>VIP</code>ç”¨æˆ·ä¹Ÿå­˜åœ¨å¯¹åº”çš„ç®¡ç†æ–¹å¼ã€‚</p><p>ç½‘ç«™ä¼šå®šæœŸå¼€å¯æŠ•ç¥¨ã€è®¨è®ºï¼Œé™æ—¶è¿›è¡Œï¼Œé€¾æœŸä½œåºŸã€‚å¦‚ä½•æœ‰æ•ˆç®¡ç†æ­¤ç±»è¿‡æœŸä¿¡æ¯ã€‚</p><h4 id="è§£å†³æ–¹æ¡ˆ-13" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-13" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆ</h4><ul><li><p>å¯¹äºåŸºäºæ—¶é—´çº¿é™å®šçš„ä»»åŠ¡å¤„ç†ï¼Œå°†å¤„ç†æ—¶é—´è®°å½•ä½<code>score</code>å€¼ï¼Œåˆ©ç”¨æ’åºåŠŸèƒ½åŒºåˆ†å¤„ç†çš„å…ˆåé¡ºåº</p></li><li><p>è®°å½•ä¸‹ä¸€ä¸ªè¦å¤„ç†çš„äº‹ä»¶ï¼Œå½“åˆ°æœŸåå¤„ç†å¯¹åº”çš„ä»»åŠ¡ï¼Œç§»é™¤<code>redis</code>ä¸­çš„è®°å½•ï¼Œå¹¶è®°å½•ä¸‹ä¸€ä¸ªè¦å¤„ç†çš„æ—¶é—´</p></li><li><p>å½“æ–°ä»»åŠ¡åŠ å…¥æ—¶ï¼Œåˆ¤å®šå¹¶æ›´æ–°å½“å‰ä¸‹ä¸€ä¸ªè¦å¤„ç†çš„ä»»åŠ¡æ—¶é—´</p></li><li><p>ä¸ºæå‡<code>sorted_set</code>çš„æ€§èƒ½ï¼Œé€šå¸¸å°†ä»»åŠ¡æ ¹æ®ç‰¹å¾å­˜å‚¨æˆè‹¥å¹²ä¸ª<code>sorted_set</code>ï¼Œä¾‹å¦‚ 1 å°æ—¶å†…ï¼Œ1 å¤©å†…ï¼Œå¹´åº¦ç­‰ï¼Œæ“ä½œæ—¶é€æ¸æå‡ï¼Œå°†å³å°†æ“ä½œçš„è‹¥å¹²ä¸ªä»»åŠ¡çº³å…¥åˆ° 1 å°æ—¶å†…å¤„ç†é˜Ÿåˆ—ä¸­</p></li><li><p>è·å–å½“å‰ç³»ç»Ÿæ—¶é—´</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">time</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd tx <span class="token number">1509802345</span> uid:001
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd tx <span class="token number">1509802390</span> uid:007
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd tx <span class="token number">1510384284</span> uid:888
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange tx <span class="token number">0</span> <span class="token parameter variable">-1</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;uid:001&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;1509802345&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;uid:007&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;1509802390&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;uid:888&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;1510384284&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">time</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;1600740116&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;829561&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">time</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;1600740121&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;110002&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">time</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;1600740124&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;112972&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="tips-14" tabindex="-1"><a class="header-anchor" href="#tips-14" aria-hidden="true">#</a> Tips 14</h4><p><code>Redis</code>åº”ç”¨äºå®šæ—¶ä»»åŠ¡æ‰§è¡Œé¡ºåºç®¡ç†æˆ–ä»»åŠ¡è¿‡æœŸç®¡ç†ã€‚</p><h3 id="å¸¦æœ‰æƒé‡çš„ä»»åŠ¡ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#å¸¦æœ‰æƒé‡çš„ä»»åŠ¡ç®¡ç†" aria-hidden="true">#</a> å¸¦æœ‰æƒé‡çš„ä»»åŠ¡ç®¡ç†</h3><h4 id="ä¸šåŠ¡åœºæ™¯-15" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯-15" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h4><p>ä»»åŠ¡/æ¶ˆæ¯æƒé‡è®¾å®šåº”ç”¨ï¼šå½“ä»»åŠ¡æˆ–è€…æ¶ˆæ¯å¾…å¤„ç†ï¼Œå½¢æˆäº†ä»»åŠ¡é˜Ÿåˆ—æˆ–æ¶ˆæ¯é˜Ÿåˆ—æ—¶ï¼Œå¯¹äºé«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡è¦ä¿éšœå¯¹å…¶ä¼˜å…ˆå¤„ç†ï¼Œå¦‚ä½•å®ç°ä»»åŠ¡æƒé‡ç®¡ç†ã€‚</p><h4 id="è§£å†³æ–¹æ¡ˆ-14" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-14" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆ</h4><ul><li><p>å¯¹äºå¸¦æœ‰æƒé‡çš„ä»»åŠ¡ï¼Œä¼˜å…ˆå¤„ç†æƒé‡é«˜çš„ä»»åŠ¡ï¼Œé‡‡ç”¨<code>score</code>è®°å½•æƒé‡å³å¯<br> å¤šæ¡ä»¶ä»»åŠ¡æƒé‡è®¾å®šï¼š<br> å¦‚æœæƒé‡æ¡ä»¶è¿‡å¤šæ—¶ï¼Œéœ€è¦å¯¹æ’åº<code>score</code>å€¼è¿›è¡Œå¤„ç†ï¼Œä¿éšœ<code>score</code>å€¼èƒ½å¤Ÿå…¼å®¹2æ¡ä»¶æˆ–è€…å¤šæ¡ä»¶ï¼Œä¾‹å¦‚å¤–è´¸è®¢å•ä¼˜å…ˆäºå›½å†…è®¢å•ï¼Œæ€»è£è®¢å•ä¼˜å…ˆäºå‘˜å·¥è®¢å•ï¼Œç»ç†è®¢å•ä¼˜å…ˆäºå‘˜å·¥è®¢å•ã€‚</p></li><li><p>å› <code>score</code>é•¿åº¦å—é™ï¼Œéœ€è¦å¯¹æ•°æ®è¿›è¡Œæˆªæ–­å¤„ç†ï¼Œå°¤å…¶æ˜¯æ—¶é—´è®¾ç½®ä¸ºå°æ—¶æˆ–åˆ†é’Ÿçº§å³å¯ï¼ˆæŠ˜ç®—åï¼‰</p></li><li><p>å…ˆè®¾å®šè®¢å•ç±»åˆ«ï¼Œåè®¾å®šè®¢å•å‘èµ·è§’è‰²ç±»åˆ«ï¼Œæ•´ä½“<code>score</code>é•¿åº¦å¿…é¡»æ˜¯ç»Ÿä¸€çš„ï¼Œä¸è¶³ä½è¡¥ 0ï¼Œç¬¬ä¸€æ’åºè§„åˆ™é¦–ä½ä¸å¾—æ˜¯ 0</p><ul><li>ä¾‹å¦‚å¤–è´¸ 101ï¼Œå›½å†… 102ï¼Œç»ç† 004ï¼Œå‘˜å·¥ 008</li><li>å‘˜å·¥ä¸‹çš„å¤–è´¸å•<code>score</code>å€¼ä¸º 101008ï¼ˆä¼˜å…ˆï¼‰</li><li>ç»ç†ä¸‹çš„å›½å†…å•<code>score</code>å€¼ä¸º 1020</li></ul></li><li><p>å¯¹äºå¸¦æœ‰æƒé‡çš„ä»»åŠ¡ï¼Œä¼˜å…ˆå¤„ç†æƒé‡é«˜çš„ä»»åŠ¡ï¼Œé‡‡ç”¨<code>score</code>è®°å½•æƒé‡å³å¯</p></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd tasks <span class="token number">4</span> order:id:005
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd tasks <span class="token number">1</span> order:id:425
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd tasks <span class="token number">9</span> order:id:345
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrevrange tasks <span class="token number">0</span> <span class="token parameter variable">-1</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;order:id:345&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;9&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;order:id:005&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;4&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;order:id:425&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrevrange tasks <span class="token number">0</span> <span class="token number">0</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;order:id:345&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrem tasks order:id:345
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrevrange tasks <span class="token number">0</span> <span class="token parameter variable">-1</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;order:id:005&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;4&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;order:id:425&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd tt <span class="token number">102004</span> order:id:1
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd tt <span class="token number">101008</span> order:id:2
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrevrange tt <span class="token number">0</span> <span class="token parameter variable">-1</span> withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;order:id:1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;102004&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;order:id:2&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;101008&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange tt <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;order:id:2&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;order:id:1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd ts <span class="token number">14</span> order:id:3
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd ts <span class="token number">1332</span> order:id:4
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="tips-15" tabindex="-1"><a class="header-anchor" href="#tips-15" aria-hidden="true">#</a> Tips 15</h4><p><code>Redis</code>åº”ç”¨äºå³æ—¶ä»»åŠ¡/æ¶ˆæ¯é˜Ÿåˆ—æ‰§è¡Œç®¡ç†ã€‚</p><h1 id="redis-æ•°æ®ç±»å‹ç»¼åˆå®è·µæ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#redis-æ•°æ®ç±»å‹ç»¼åˆå®è·µæ¡ˆä¾‹" aria-hidden="true">#</a> Redis æ•°æ®ç±»å‹ç»¼åˆå®è·µæ¡ˆä¾‹</h1><h2 id="è®¡æ•°å™¨" tabindex="-1"><a class="header-anchor" href="#è®¡æ•°å™¨" aria-hidden="true">#</a> è®¡æ•°å™¨</h2><h3 id="ä¸šåŠ¡åœºæ™¯-16" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯-16" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h3><p>äººå·¥æ™ºèƒ½é¢†åŸŸçš„è¯­ä¹‰è¯†åˆ«ä¸è‡ªåŠ¨å¯¹è¯å°†æ˜¯æœªæ¥æœåŠ¡ä¸šæœºå™¨äººåº”ç­”å‘¼å«ä½“ç³»ä¸­çš„é‡è¦æŠ€æœ¯ï¼Œç™¾åº¦è‡ªç ”ç”¨æˆ·è¯„ä»·è¯­ä¹‰è¯†åˆ«æœåŠ¡ï¼Œå…è´¹å¼€æ”¾ç»™ä¼ä¸šè¯•ç”¨ï¼ŒåŒæ—¶è®­ç»ƒç™¾åº¦è‡ªå·±çš„æ¨¡å‹ã€‚ç°å¯¹è¯•ç”¨ç”¨æˆ·çš„ä½¿ç”¨è¡Œä¸ºè¿›è¡Œé™é€Ÿï¼Œé™åˆ¶æ¯ä¸ªç”¨æˆ·æ¯åˆ†é’Ÿæœ€å¤šå‘èµ· 10 æ¬¡ã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆ-15" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-15" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆ</h3><ul><li>è®¾è®¡è®¡æ•°å™¨ï¼Œè®°å½•è°ƒç”¨æ¬¡æ•°ï¼Œç”¨äºæ§åˆ¶ä¸šåŠ¡æ‰§è¡Œæ¬¡æ•°ã€‚ä»¥ç”¨æˆ·<code>id</code>ä½œä¸º<code>key</code>,ä½¿ç”¨æ­¤æ—¶ä½œä¸º<code>value</code></li><li>åœ¨è°ƒç”¨å‰è·å–æ¬¡æ•°ï¼Œåˆ¤æ–­æ˜¯å¦è¶…è¿‡é™å®šæ¬¡æ•°ï¼Œä¸è¶…è¿‡æ¬¡æ•°çš„æƒ…å†µä¸‹ï¼Œæ¯æ¬¡è°ƒç”¨è®¡æ•° +1ï¼Œä¸šåŠ¡è°ƒç”¨å¤±è´¥ï¼Œè®¡æ•° -1</li><li>ä¸ºäº†è®¡æ•°å™¨è®¾ç½®ç”Ÿå‘½å‘¨æœŸä¸ºæŒ‡å®šå‘¨æœŸï¼Œä¾‹å¦‚ 1 ç§’/åˆ†é’Ÿï¼Œè‡ªåŠ¨æ¸…ç©ºå‘¨æœŸå†…ä½¿ç”¨æ¬¡æ•°</li></ul><figure><img src="https://cdn.jsdelivr.net/gh/1coins/assets/redis-data-type/counter1.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get <span class="token number">415</span>
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setex <span class="token number">415</span> <span class="token number">60</span> <span class="token number">1</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get <span class="token number">415</span>
<span class="token string">&quot;1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incr <span class="token number">415</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get <span class="token number">415</span>
<span class="token string">&quot;2&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incr <span class="token number">415</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incrby <span class="token number">415</span> <span class="token number">7</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">10</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get <span class="token number">415</span>
<span class="token string">&quot;10&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get <span class="token number">415</span>
<span class="token string">&quot;10&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get <span class="token number">415</span>
<span class="token string">&quot;10&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get <span class="token number">415</span>
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è§£å†³æ–¹æ¡ˆæ”¹è‰¯" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆæ”¹è‰¯" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆæ”¹è‰¯</h3><ul><li>å–æ¶ˆæœ€å¤§å€¼çš„åˆ¤å®šï¼Œåˆ©ç”¨<code>incr</code>æ“ä½œè¶…è¿‡æœ€å¤§å€¼æŠ›å‡ºå¼‚å¸¸çš„å½¢å¼æ›¿ä»£æ¯æ¬¡åˆ¤æ–­æ˜¯å¦å¤§äºæœ€å¤§å€¼</li><li>åˆ¤æ–­æ˜¯å¦ä¸º<code>nil</code>ï¼Œå¦‚æœæ˜¯ï¼Œè®¾ç½®ä¸º<code>Max-æ¬¡æ•°</code>ï¼Œå¦‚æœä¸æ˜¯ï¼Œè®¡æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">+</span><span class="mord">1</span></span></span></span>ï¼Œä¸šåŠ¡è°ƒç”¨å¤±è´¥ï¼Œè®¡æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span><span class="mord">1</span></span></span></span></li><li>é‡åˆ°å¼‚å¸¸å³ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo></mrow><annotation encoding="application/x-tex">+</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">+</span></span></span></span> æ“ä½œè¶…è¿‡ä¸Šé™ï¼Œè§†ä¸ºä½¿ç”¨è¾¾åˆ°</li></ul><figure><img src="https://cdn.jsdelivr.net/gh/1coins/assets/redis-data-type/counter2.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get <span class="token number">415</span>
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setex <span class="token number">415</span> <span class="token number">60</span> <span class="token number">9223372036854775797</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get <span class="token number">415</span>
<span class="token string">&quot;9223372036854775797&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incr <span class="token number">415</span>
<span class="token string">&quot;9223372036854775798&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get <span class="token number">415</span>
<span class="token string">&quot;9223372036854775798&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incr <span class="token number">415</span>
<span class="token string">&quot;9223372036854775799&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incr <span class="token number">415</span>
<span class="token string">&quot;9223372036854775800&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incr <span class="token number">415</span>
<span class="token string">&quot;9223372036854775801&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incr <span class="token number">415</span>
<span class="token string">&quot;9223372036854775802&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incr <span class="token number">415</span>
<span class="token string">&quot;9223372036854775803&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incr <span class="token number">415</span>
<span class="token string">&quot;9223372036854775804&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incr <span class="token number">415</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="tips-16" tabindex="-1"><a class="header-anchor" href="#tips-16" aria-hidden="true">#</a> Tips 16</h3><p><code>Redis</code>åº”ç”¨äºé™æ—¶æŒ‰æ¬¡ç»“ç®—çš„æœåŠ¡æ§åˆ¶ã€‚</p><h2 id="å¾®ä¿¡ä¼šè¯" tabindex="-1"><a class="header-anchor" href="#å¾®ä¿¡ä¼šè¯" aria-hidden="true">#</a> å¾®ä¿¡ä¼šè¯</h2><h3 id="ä¸šåŠ¡åœºæ™¯-17" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯-17" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h3><p>ä½¿ç”¨å¾®ä¿¡çš„è¿‡ç¨‹ä¸­ï¼Œå½“å¾®ä¿¡æ¥æ”¶æ¶ˆæ¯åï¼Œä¼šé»˜è®¤å°†æœ€è¿‘æ¥æ”¶çš„æ¶ˆæ¯ç½®é¡¶ï¼Œå½“å¤šä¸ªå¥½å‹åŠå…³æ³¨çš„è®¢é˜…å·åŒæ—¶å‘é€æ¶ˆæ¯æ—¶ï¼Œè¯¥æ’åºä¼šä¸åœçš„è¿›è¡Œäº¤æ›¿ã€‚åŒæ—¶è¿˜å¯ä»¥å°†é‡è¦çš„ä¼šè¯è®¾ç½®ä¸ºç½®é¡¶ã€‚ä¸€æ—¦ç”¨æˆ·ç¦»çº¿åï¼Œå†æ¬¡æ‰“å¼€å¾®ä¿¡æ—¶ï¼Œæ¶ˆæ¯è¯¥æŒ‰ç…§ä»€ä¹ˆæ ·çš„é¡ºåºæ˜¾ç¤ºï¼Ÿ</p><h3 id="ä¸šåŠ¡åˆ†æ-3" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åˆ†æ-3" aria-hidden="true">#</a> ä¸šåŠ¡åˆ†æ</h3><figure><img src="https://cdn.jsdelivr.net/gh/1coins/assets/redis-data-type/session-top.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="è§£å†³æ–¹æ¡ˆ-16" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ-16" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆ</h3><ul><li>ä¾èµ–<code>list</code>çš„æ•°æ®å…·æœ‰é¡ºåºçš„ç‰¹å¾å¯¹æ¶ˆæ¯è¿›è¡Œç®¡ç†ï¼Œå°†<code>list</code>ç»“æ„ä½œä¸ºæ ˆä½¿ç”¨</li><li>å¯¹æŒ‡å®šä¸æ™®é€šä¼šè¯åˆ†åˆ«åˆ›å»ºç‹¬ç«‹çš„<code>list</code>åˆ†åˆ«ç®¡ç†</li><li>å½“æŸä¸ª<code>list</code>ä¸­æ¥æ”¶åˆ°ç”¨æˆ·æ¶ˆæ¯åï¼Œå°†æ¶ˆæ¯å‘é€æ–¹çš„<code>id</code>ä»<code>list</code>çš„ä¸€ä¾§åŠ å…¥<code>list</code>ï¼ˆæ­¤å¤„è®¾å®šå·¦ä¾§ï¼‰</li><li>å¤šä¸ªç›¸åŒ<code>id</code>å‘å‡ºçš„æ¶ˆæ¯åå¤å…¥æ ˆä¼šå‡ºç°é—®é¢˜ï¼Œåœ¨å…¥æ ˆä¹‹å‰æ— è®ºæ˜¯å¦å…·æœ‰å½“å‰<code>id</code>å¯¹åº”å¾—æ¶ˆæ¯ï¼Œå…ˆåˆ é™¤å¯¹åº”<code>id</code></li><li>æ¨é€æ¶ˆæ¯æ—¶å…ˆæ¨é€é¡¶ç½®ä¼šè¯<code>list</code>ï¼Œå†æ¨é€æ™®é€šä¼šè¯<code>list</code>ï¼Œæ¨é€å®Œæˆçš„<code>list</code>æ¸…é™¤æ‰€æœ‰æ•°æ®</li><li>æ¶ˆæ¯çš„æ•°é‡ï¼Œä¹Ÿå°±æ˜¯å¾®ä¿¡ç”¨æˆ·å¯¹è¯æ•°é‡é‡‡ç”¨è®¡æ•°å™¨çš„æ€æƒ³å¦è¡Œè®°å½•ï¼Œä¼´éš<code>list</code>æ“ä½œåŒæ­¥æ›´æ–°</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrem <span class="token number">100</span> <span class="token number">1</span> <span class="token number">200</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpush <span class="token number">100</span> <span class="token number">200</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrem <span class="token number">100</span> <span class="token number">1</span> <span class="token number">300</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpush <span class="token number">100</span> <span class="token number">300</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrem <span class="token number">100</span> <span class="token number">1</span> <span class="token number">400</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpush <span class="token number">100</span> <span class="token number">400</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrem <span class="token number">100</span> <span class="token number">1</span> <span class="token number">200</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpush <span class="token number">100</span> <span class="token number">200</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrem <span class="token number">100</span> <span class="token number">1</span> <span class="token number">300</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpush <span class="token number">100</span> <span class="token number">300</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange <span class="token number">100</span> <span class="token number">0</span> <span class="token parameter variable">-1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;300&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;200&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;400&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="è§£å†³æ–¹æ¡ˆåˆ—è¡¨" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆåˆ—è¡¨" aria-hidden="true">#</a> è§£å†³æ–¹æ¡ˆåˆ—è¡¨</h1><ul><li><code>Tips 1</code>ï¼š<code>Redis</code>ç”¨äºæ§åˆ¶æ•°æ®åº“è¡¨ä¸»é”®<code>id</code>ï¼Œä¸ºæ•°æ®åº“è¡¨ä¸»é”®æä¾›ç”Ÿæˆç­–ç•¥ï¼Œä¿éšœæ•°æ®åº“è¡¨çš„ä¸»é”®å”¯ä¸€æ€§</li><li><code>Tips 2</code>ï¼š<code>Redis</code>æ§åˆ¶æ•°æ®çš„ç”Ÿå‘½å‘¨æœŸï¼Œé€šè¿‡æ•°æ®æ˜¯å¦å¤±æ•ˆæ§åˆ¶ä¸šåŠ¡è¡Œä¸ºï¼Œé€‚ç”¨äºæ‰€æœ‰å…·æœ‰æ—¶æ•ˆæ€§é™å®šæ§åˆ¶çš„æ“ä½œ</li><li><code>Tips 3</code>ï¼š<code>Redis</code>åº”ç”¨äºå„ç§ç»“æ„å‹å’Œéç»“æ„å‹é«˜çƒ­åº¦æ•°æ®è®¿é—®åŠ é€Ÿ</li><li><code>Tips 4</code>ï¼š<code>Redis</code>åº”ç”¨äºè´­ç‰©è½¦æ•°æ®å­˜å‚¨è®¾è®¡</li><li><code>Tips 5</code>ï¼š<code>Redis</code>åº”ç”¨äºæŠ¢è´­ï¼Œé™è´­ç±»ã€é™é‡å‘æ”¾ä¼˜æƒ å·ã€æ¿€æ´»ç ç­‰ä¸šåŠ¡çš„æ•°æ®å­˜å‚¨è®¾è®¡</li><li><code>Tips 6</code>ï¼š<code>Redis</code>åº”ç”¨äºå…·æœ‰æ“ä½œå…ˆåé¡ºåºçš„æ•°æ®æ§åˆ¶</li><li><code>Tips 7</code>ï¼š<code>Redis</code>åº”ç”¨äºæœ€æ–°æ¶ˆæ¯å±•ç¤º</li><li><code>Tips 8</code>ï¼š<code>Redis</code>åº”ç”¨äºéšæœºæ¨èç±»ä¿¡æ¯æ£€ç´¢ï¼Œä¾‹å¦‚çƒ­ç‚¹æ­Œå•æ¨èï¼Œçƒ­ç‚¹æ–°é—»æ¨èï¼Œçƒ­å–æ—…æ¸¸çº¿è·¯ï¼Œåº”ç”¨<code>APP</code>æ¨èï¼Œå¤§Væ¨èç­‰</li><li><code>Tips 9</code>ï¼š<code>Redis</code>åº”ç”¨äºåŒç±»ä¿¡æ¯çš„å…³è”æœç´¢ï¼ŒäºŒåº¦å…³è”æœç´¢ï¼Œæ·±åº¦å…³è”æœç´¢</li><li><code>Tips 10</code>ï¼š<code>Redis</code>åº”ç”¨äºåŒç±»å‹ä¸é‡å¤æ•°æ®çš„åˆå¹¶ã€å–äº¤é›†æ“ä½œ</li><li><code>Tips 11</code>ï¼š<code>Redis</code>åº”ç”¨äºåŒç±»å‹æ•°æ®çš„å¿«é€Ÿå»é‡</li><li><code>Tips 12</code>ï¼š<code>Redis</code>åº”ç”¨äºåŸºäºé»‘åå•ä¸ç™½åå•è®¾å®šçš„æœåŠ¡æ§åˆ¶</li><li><code>Tips 13</code>ï¼š<code>Redis</code>åº”ç”¨äºè®¡æ•°å™¨ç»„åˆæ’åºåŠŸèƒ½å¯¹åº”çš„æ’å</li><li><code>Tips 14</code>ï¼š<code>Redis</code>åº”ç”¨äºå®šæ—¶ä»»åŠ¡æ‰§è¡Œé¡ºåºç®¡ç†æˆ–ä»»åŠ¡è¿‡æœŸç®¡ç†</li><li><code>Tips 15</code>ï¼š<code>Redis</code>åº”ç”¨äºåŠæ—¶ä»»åŠ¡/æ¶ˆæ¯é˜Ÿåˆ—æ‰§è¡Œç®¡ç†</li><li><code>Tips 16</code>ï¼š<code>Redis</code>åº”ç”¨äºæŒ‰æ¬¡ç»“ç®—çš„æœåŠ¡æ§åˆ¶</li><li><code>Tips 17</code>ï¼š<code>Redis</code>åº”ç”¨äºåŸºäºæ—¶é—´é¡ºåºçš„æ•°æ®æ“ä½œï¼Œè€Œä¸å…³æ³¨</li></ul><h1 id="é«˜çº§æ•°æ®ç±»å‹" tabindex="-1"><a class="header-anchor" href="#é«˜çº§æ•°æ®ç±»å‹" aria-hidden="true">#</a> é«˜çº§æ•°æ®ç±»å‹</h1><h2 id="bitmaps" tabindex="-1"><a class="header-anchor" href="#bitmaps" aria-hidden="true">#</a> Bitmaps</h2><p>å¹¶ä¸æ˜¯ä¸€ä¸ªå…¨æ–°çš„æ•°æ®ç±»å‹ï¼Œè€Œæ˜¯<code>String</code>ä¸­äºŒè¿›åˆ¶ä½çš„æ“ä½œ<code>API</code>ã€‚</p><h3 id="bitmaps-ç±»å‹çš„åŸºç¡€æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#bitmaps-ç±»å‹çš„åŸºç¡€æ“ä½œ" aria-hidden="true">#</a> Bitmaps ç±»å‹çš„åŸºç¡€æ“ä½œ</h3><ul><li><p>è·å–æŒ‡å®š<code>key</code>å¯¹åº”åç§»é‡ä¸Šçš„<code>bit</code>å€¼</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>getbit key offset
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>è®¾ç½®æŒ‡å®š<code>key</code>å¯¹åº”åç§»é‡ä¸Šçš„<code>bit</code>å€¼ï¼Œ<code>value</code>åªèƒ½æ˜¯ 1 æˆ– 0</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>setbit key offset value
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>  <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setbit bits <span class="token number">0</span> <span class="token number">1</span>
  <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
  <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> getbit bits <span class="token number">0</span>
  <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
  <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> getbit bits <span class="token number">10</span>
  <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="bitmaps-ç±»å‹çš„æ‰©å±•æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#bitmaps-ç±»å‹çš„æ‰©å±•æ“ä½œ" aria-hidden="true">#</a> Bitmaps ç±»å‹çš„æ‰©å±•æ“ä½œ</h3><h4 id="ä¸šåŠ¡åœºæ™¯-18" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åœºæ™¯-18" aria-hidden="true">#</a> ä¸šåŠ¡åœºæ™¯</h4><p>ç”µå½±ç½‘ç«™ï¼š</p><ul><li>ç»Ÿè®¡æ¯å¤©æŸä¸€éƒ¨ç”µå½±æ˜¯å¦è¢«ç‚¹æ’­</li><li>ç»Ÿè®¡æ¯å¤©æœ‰å¤šå°‘éƒ¨ç”µå½±è¢«ç‚¹æ’­</li><li>ç»Ÿè®¡æ¯å‘¨/æœˆ/å¹´æœ‰å¤šå°‘éƒ¨ç”µå½±è¢«ç‚¹æ’­</li><li>ç»Ÿè®¡å¹´åº¦å“ªéƒ¨ç”µå½±æ²¡æœ‰è¢«ç‚¹æ’­</li></ul><h4 id="ä¸šåŠ¡åˆ†æ-4" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡åˆ†æ-4" aria-hidden="true">#</a> ä¸šåŠ¡åˆ†æ</h4><ul><li>ç»Ÿè®¡æ¯å¤©æŸä¸€éƒ¨ç”µå½±æ˜¯å¦è¢«ç‚¹æ’­ï¼šå¦‚æœæŸéƒ¨ç”µå½±è¢«è§‚çœ‹ï¼Œå°±å°†äºŒè¿›åˆ¶ä½è®¾ä¸º 1ï¼Œä¿å­˜çš„<code>key</code>ä¸ºå½“å¤©çš„æ—¥æœŸ</li><li>ç»Ÿè®¡æ¯å¤©æœ‰å¤šå°‘éƒ¨ç”µå½±è¢«ç‚¹æ’­ï¼šç»Ÿè®¡æœ‰å¤šå°‘ä¸ªäºŒè¿›åˆ¶ä½å€¼ä¸º 1</li><li>ç»Ÿè®¡æ¯å‘¨/æœˆ/å¹´æœ‰å¤šå°‘éƒ¨ç”µå½±è¢«ç‚¹æ’­ï¼šå°†æ¯å¤©ä¿å­˜çš„æ•°æ®è¿›è¡Œæˆ–æ“ä½œï¼Œç„¶åç»Ÿè®¡æœ‰å¤šå°‘ä¸ªäºŒè¿›åˆ¶ä½å€¼ä¸º 1</li><li>ç»Ÿè®¡å¹´åº¦å“ªéƒ¨ç”µå½±æ²¡æœ‰è¢«ç‚¹æ’­ï¼šå°†æ¯å¤©ä¿å­˜çš„æ•°æ®è¿›è¡Œæˆ–æ“ä½œï¼Œç„¶åç»Ÿè®¡æœ‰å¤šå°‘ä¸ªäºŒè¿›åˆ¶ä½å€¼ä¸º 0</li></ul><h4 id="æ‰©å±•æ“ä½œ-6" tabindex="-1"><a class="header-anchor" href="#æ‰©å±•æ“ä½œ-6" aria-hidden="true">#</a> æ‰©å±•æ“ä½œ</h4><ul><li><p>å¯¹æŒ‡å®š<code>key</code>æŒ‰ä½è¿›è¡Œäº¤ã€å¹¶ã€éã€å¼‚æˆ–æ“ä½œï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°<code>destKey</code>ä¸­</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>bitop option destKey key1 <span class="token punctuation">[</span>key2<span class="token punctuation">]</span><span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><code>and</code>ï¼šäº¤</li><li><code>or</code>ï¼šå¹¶</li><li><code>not</code>ï¼šé</li><li><code>xor</code>ï¼šå¼‚æˆ–</li></ul></li><li><p>ç»Ÿè®¡æŒ‡å®š<code>key</code>ä¸­ 1 çš„æ•°é‡</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>bitcount key <span class="token punctuation">[</span>start end<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>  <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setbit <span class="token number">20880808</span> <span class="token number">0</span> <span class="token number">1</span>
  <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
  <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setbit <span class="token number">20880808</span> <span class="token number">4</span> <span class="token number">1</span>
  <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
  <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setbit <span class="token number">20880808</span> <span class="token number">8</span> <span class="token number">1</span>
  <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
  <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setbit <span class="token number">20880809</span> <span class="token number">0</span> <span class="token number">1</span>
  <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
  <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setbit <span class="token number">20880809</span> <span class="token number">5</span> <span class="token number">1</span>
  <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
  <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setbit <span class="token number">20880809</span> <span class="token number">8</span> <span class="token number">1</span>
  <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
  <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> bitcount <span class="token number">20880808</span>
  <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
  <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> bitcount <span class="token number">20880809</span>
  <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
  <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setbit <span class="token number">20880808</span> <span class="token number">0</span> <span class="token number">1</span>
  <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
  <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> bitcount <span class="token number">20880808</span>
  <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span>
  <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> bitop or 08-09 <span class="token number">20880808</span> <span class="token number">20880809</span>
  <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
  <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> bitcout 08-09
  <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="tips-18" tabindex="-1"><a class="header-anchor" href="#tips-18" aria-hidden="true">#</a> Tips 18</h4><p><code>Redis</code>åº”ç”¨äºä¿¡æ¯çŠ¶æ€ç»Ÿè®¡ã€‚</p><h2 id="hyperloglog" tabindex="-1"><a class="header-anchor" href="#hyperloglog" aria-hidden="true">#</a> HyperLogLog</h2><h3 id="ç»Ÿè®¡ç‹¬ç«‹uv" tabindex="-1"><a class="header-anchor" href="#ç»Ÿè®¡ç‹¬ç«‹uv" aria-hidden="true">#</a> ç»Ÿè®¡ç‹¬ç«‹UV</h3><ul><li><p>åŸå§‹æ–¹æ¡ˆï¼š<code>set</code></p><ul><li>å­˜å‚¨æ¯ä¸ªç”¨æˆ·çš„<code>id</code>ï¼ˆå­—ç¬¦ä¸²ï¼‰</li></ul></li><li><p>æ”¹è¿›æ–¹æ¡ˆï¼š<code>Bitmaps</code></p><ul><li>å­˜å‚¨æ¯ä¸ªç”¨æˆ·çŠ¶æ€ï¼ˆ<code>bit</code>ï¼‰</li></ul></li><li><p>å…¨æ–°çš„æ–¹æ¡ˆï¼š<code>Hyperloglog</code></p></li></ul><h3 id="åŸºæ•°" tabindex="-1"><a class="header-anchor" href="#åŸºæ•°" aria-hidden="true">#</a> åŸºæ•°</h3><p>åŸºæ•°æ˜¯æ•°æ®é›†å»é‡åå…ƒç´ ä¸ªæ•°ï¼Œ<code>HyperLogLog</code>æ˜¯ç”¨æ¥åšåŸºæ•°ç»Ÿè®¡çš„ï¼Œè¿ç”¨äº†<code>LogLog</code>çš„ç®—æ³•ã€‚</p><figure><img src="https://cdn.jsdelivr.net/gh/1coins/assets/redis-data-type/base-quota.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="hyperloglog-ç±»å‹çš„åŸºæœ¬æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#hyperloglog-ç±»å‹çš„åŸºæœ¬æ“ä½œ" aria-hidden="true">#</a> HyperLogLog ç±»å‹çš„åŸºæœ¬æ“ä½œ</h3><ul><li><p>æ·»åŠ æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>pfadd key element <span class="token punctuation">[</span>element <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>ç»Ÿè®¡æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>pfcount key <span class="token punctuation">[</span>key <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>åˆå¹¶æ•°æ®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>pfmerge destkey sourcekey <span class="token punctuation">[</span>sourcekey<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> pfadd hll 001
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> pfadd hll 001
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> pfadd hll 001
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> pfadd hll 001
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> pfadd hll 001
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> pfadd hll 002
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> pfadd hll 002
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> pfcounr hll
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="tips-19" tabindex="-1"><a class="header-anchor" href="#tips-19" aria-hidden="true">#</a> Tips 19</h3><p>**<code>redis</code>**<strong>åº”ç”¨äºç‹¬ç«‹ä¿¡æ¯ç»Ÿè®¡</strong></p><h3 id="ç›¸å…³è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#ç›¸å…³è¯´æ˜" aria-hidden="true">#</a> ç›¸å…³è¯´æ˜</h3><ul><li>ç”¨äºè¿›è¡ŒåŸºæ•°ç»Ÿè®¡ï¼Œä¸æ˜¯é›†åˆï¼Œä¸ä¿å­˜æ•°æ®ï¼Œåªè®°å½•æ•°é‡è€Œä¸æ˜¯å…·ä½“æ•°æ®</li><li>æ ¸å¿ƒæ˜¯åŸºæ•°ä¼°ç®—ç®—æ³•ï¼Œæœ€ç»ˆæ•°å€¼å­˜åœ¨ä¸€å®šè¯¯å·®</li><li>è¯¯å·®èŒƒå›´ï¼šåŸºæ•°ä¼°è®¡çš„ç»“æœæ˜¯ä¸€ä¸ªå¸¦æœ‰ 0.81% æ ‡å‡†é”™è¯¯çš„è¿‘ä¼¼å€¼</li><li>è€—ç©ºé—´æå°ï¼Œæ¯ä¸ª<code>hyperloglog key</code>å ç”¨äº† 12K çš„å†…å­˜ç”¨äºæ ‡è®°åŸºæ•°</li><li><code>pfadd</code>å‘½ä»¤ä¸æ˜¯ä¸€æ¬¡æ€§åˆ†é… 12K å†…å­˜ä½¿ç”¨ï¼Œä¼šéšç€åŸºæ•°çš„å¢åŠ å†…å­˜é€æ¸å¢å¤§</li><li><code>Pfmerge</code>å‘½ä»¤åˆå¹¶åå ç”¨çš„å­˜å‚¨ç©ºé—´ä¸º 12Kï¼Œæ— è®ºåˆå¹¶ä¹‹å‰æ•°æ®é‡å¤šå°‘</li></ul><h2 id="geo" tabindex="-1"><a class="header-anchor" href="#geo" aria-hidden="true">#</a> GEO</h2><h3 id="geo-ç±»å‹çš„åŸºæœ¬æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#geo-ç±»å‹çš„åŸºæœ¬æ“ä½œ" aria-hidden="true">#</a> GEO ç±»å‹çš„åŸºæœ¬æ“ä½œ</h3><ul><li><p>æ·»åŠ åæ ‡ç‚¹</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>geoadd key longitude latitude member <span class="token punctuation">[</span>longitude latitude member <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>è·å–åæ ‡ç‚¹</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>geopos key member <span class="token punctuation">[</span>member <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>è®¡ç®—åæ ‡ç‚¹è·ç¦»</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>geodist key member1 member2 <span class="token punctuation">[</span>unit<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>æ·»åŠ åæ ‡ç‚¹</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>georadius key longitude latitude radius m<span class="token operator">|</span>km<span class="token operator">|</span>ft<span class="token operator">|</span>mi <span class="token punctuation">[</span>withcoord<span class="token punctuation">]</span> <span class="token punctuation">[</span>withdist<span class="token punctuation">]</span> <span class="token punctuation">[</span>withhash<span class="token punctuation">]</span> <span class="token punctuation">[</span>count count<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>è·å–åæ ‡ç‚¹</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>georadiusbymember key member radius m<span class="token operator">|</span>km<span class="token operator">|</span>ft<span class="token operator">|</span>mi <span class="token punctuation">[</span>withcoord<span class="token punctuation">]</span> <span class="token punctuation">[</span>withdist<span class="token punctuation">]</span> <span class="token punctuation">[</span>withhash<span class="token punctuation">]</span> <span class="token punctuation">[</span>count count<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>è®¡ç®—ç»çº¬åº¦</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>geohash key member <span class="token punctuation">[</span>member <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geoadd geos <span class="token number">1</span> <span class="token number">1</span> a
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geoadd geos <span class="token number">2</span> <span class="token number">2</span> b
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geopos geos a
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;0.99999994039535522&quot;</span>
   <span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;0.99999945914297683&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geodist geos a b
<span class="token string">&quot;157270.0561&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geodist geos a b m
<span class="token string">&quot;157270.0561&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geodist geos a b km
<span class="token string">&quot;157.2701&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geoadd geos <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1,1</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geoadd geos <span class="token number">1</span> <span class="token number">2</span> <span class="token number">1,2</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geoadd geos <span class="token number">1</span> <span class="token number">3</span> <span class="token number">1,3</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geoadd geos <span class="token number">2</span> <span class="token number">1</span> <span class="token number">2,1</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geoadd geos <span class="token number">2</span> <span class="token number">2</span> <span class="token number">2,2</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geoadd geos <span class="token number">2</span> <span class="token number">3</span> <span class="token number">2,3</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geoadd geos <span class="token number">3</span> <span class="token number">1</span> <span class="token number">3,1</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geoadd geos <span class="token number">3</span> <span class="token number">2</span> <span class="token number">3,2</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geoadd geos <span class="token number">3</span> <span class="token number">3</span> <span class="token number">3,3</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geoadd geos <span class="token number">5</span> <span class="token number">5</span> <span class="token number">5,5</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> georadiusbymember geos <span class="token number">2,2</span> <span class="token number">180</span> km
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;1,1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;2,1&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;1,2&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;2,2&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;3,1&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;3,2&quot;</span>
<span class="token number">7</span><span class="token punctuation">)</span> <span class="token string">&quot;1,3&quot;</span>
<span class="token number">8</span><span class="token punctuation">)</span> <span class="token string">&quot;2,3&quot;</span>
<span class="token number">9</span>ï¼‰ <span class="token string">&quot;3.3&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> georadiusbymember geos <span class="token number">2,2</span> <span class="token number">120</span> km
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;1,1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;2,2&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;2,3&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;2,1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> georadiusbymember geos <span class="token number">2,2</span> <span class="token number">1800</span> km
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;1,1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;2,1&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;1,2&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;2,2&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;3,1&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;3,2&quot;</span>
<span class="token number">7</span><span class="token punctuation">)</span> <span class="token string">&quot;1,3&quot;</span>
<span class="token number">8</span><span class="token punctuation">)</span> <span class="token string">&quot;2,3&quot;</span>
<span class="token number">9</span>ï¼‰ <span class="token string">&quot;3.3&quot;</span>
<span class="token number">10</span><span class="token punctuation">)</span> <span class="token string">&quot;55&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> georadius geos <span class="token number">1.5</span> <span class="token number">1.5</span> <span class="token number">90</span> km
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;1,2&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;2,2&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;1,1&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;2,1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> geohash geos <span class="token number">2,2</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;s037ms06g70&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="tips-20" tabindex="-1"><a class="header-anchor" href="#tips-20" aria-hidden="true">#</a> Tips 20</h3><p><code>Redis</code>åº”ç”¨äºåœ°ç†ä½ç½®è®¡ç®—ã€‚</p><p>â€</p></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: lau5464@126.com">1coins</span><!--]--><!--]--></div></div></footer><!----><div id="comment" class="waline-wrapper" darkmode="false" style="display:block;"><div data-waline provider="Waline"><div class="wl-reaction"><div class="wl-reaction-title">ä½ è®¤ä¸ºè¿™ç¯‡æ–‡ç« æ€ä¹ˆæ ·ï¼Ÿ</div><ul class="wl-reaction-list"><!--[--><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="//unpkg.com/@waline/emojis/tieba/tieba_agree.png"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text"></div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="//unpkg.com/@waline/emojis/tieba/tieba_look_down.png"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text"></div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="//unpkg.com/@waline/emojis/tieba/tieba_sunglasses.png"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text"></div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="//unpkg.com/@waline/emojis/tieba/tieba_pick_nose.png"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text"></div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="//unpkg.com/@waline/emojis/tieba/tieba_awkward.png"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text"></div></li><li class="wl-reaction-item"><div class="wl-reaction-img"><img src="//unpkg.com/@waline/emojis/tieba/tieba_sleep.png"><div class="wl-reaction-votes">0</div></div><div class="wl-reaction-text"></div></li><!--]--></ul></div><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item3"><!--[--><div class="wl-header-item"><label for="wl-nick">æ˜µç§°</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><div class="wl-header-item"><label for="wl-mail">é‚®ç®±</label><input id="wl-mail" class="wl-input wl-mail" name="mail" type="email" value></div><div class="wl-header-item"><label for="wl-link">ç½‘å€</label><input id="wl-link" class="wl-input wl-link" name="link" type="text" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="è¯·ç•™è¨€ã€‚(å¡«å†™é‚®ç®±å¯åœ¨è¢«å›å¤æ—¶æ”¶åˆ°é‚®ä»¶æé†’)"></textarea><div class="wl-preview" style="display:none;"><hr><h4>é¢„è§ˆ:</h4><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" ariaHidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button type="button" class="wl-action" title="è¡¨æƒ…" style="display:none;"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button type="button" class="wl-action" title="è¡¨æƒ…åŒ…"><svg width="24" height="24" fill="currentcolor" viewBox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="ä¸Šä¼ å›¾ç‰‡"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button type="button" class="wl-action" title="é¢„è§ˆ"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-captcha-container"></div><div class="wl-text-number">0 <!--v-if--> Â å­—</div><button type="button" class="wl-btn">ç™»å½•</button><button type="submit" class="primary wl-btn" title="Cmd|Ctrl + Enter"><!--[-->æäº¤<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="æœç´¢è¡¨æƒ…åŒ…"><!--v-if--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-meta-head"><div class="wl-count"><!--v-if--> è¯„è®º</div><ul class="wl-sort"><!--[--><li class="active">æŒ‰æ­£åº</li><li class="">æŒ‰å€’åº</li><li class="">æŒ‰çƒ­åº¦</li><!--]--></ul></div><div class="wl-cards"><!--[--><!--]--></div><!--[--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div><!--]--><!--v-if--></div></div><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-3e6d2d9d.js" defer></script>
  </body>
</html>
